/*! For license information please see firebase-messaging-sw.js.LICENSE.txt */
!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1779)}({1779:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(641),firebase_app__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__(900);const firebaseConfig={config:{apiKey:"AIzaSyDAwwhNhoVRaA35hIB4AW7GHLhnF8Vv76g",authDomain:"bitkeep-29c02.firebaseapp.com",databaseURL:"https://bitkeep-29c02.firebaseio.com",projectId:"bitkeep-29c02",storageBucket:"bitkeep-29c02.appspot.com",messagingSenderId:"780628838381",appId:"1:780628838381:web:f7f24aa5a59eafe50e09e4",measurementId:"G-FEQ69WED27"},PublicVapidKey:"BElxqP_q_gFrbukTWpM3pWvKFkYXKelBK4mHKos-6_MI2M2s3wHyyYCN1VttDrFhGNYI4PuU6pettCBE_gTw2Bs"};firebase_app__WEBPACK_IMPORTED_MODULE_0___default.a.initializeApp(firebaseConfig.config);firebase_app__WEBPACK_IMPORTED_MODULE_0___default.a.messaging().setBackgroundMessageHandler((function(payload){return self.registration.showNotification("Background Message Title",{body:"Background Message body.",icon:"/static/images/favicon.png"})}))},182:function(module,exports,__webpack_require__){!function(exports){"use strict";function toArray(arr){return Array.prototype.slice.call(arr)}function promisifyRequest(request){return new Promise((function(resolve,reject){request.onsuccess=function(){resolve(request.result)},request.onerror=function(){reject(request.error)}}))}function promisifyRequestCall(obj,method,args){var request,p=new Promise((function(resolve,reject){promisifyRequest(request=obj[method].apply(obj,args)).then(resolve,reject)}));return p.request=request,p}function promisifyCursorRequestCall(obj,method,args){var p=promisifyRequestCall(obj,method,args);return p.then((function(value){if(value)return new Cursor(value,p.request)}))}function proxyProperties(ProxyClass,targetProp,properties){properties.forEach((function(prop){Object.defineProperty(ProxyClass.prototype,prop,{get:function(){return this[targetProp][prop]},set:function(val){this[targetProp][prop]=val}})}))}function proxyRequestMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach((function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return promisifyRequestCall(this[targetProp],prop,arguments)})}))}function proxyMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach((function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return this[targetProp][prop].apply(this[targetProp],arguments)})}))}function proxyCursorRequestMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach((function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return promisifyCursorRequestCall(this[targetProp],prop,arguments)})}))}function Index(index){this._index=index}function Cursor(cursor,request){this._cursor=cursor,this._request=request}function ObjectStore(store){this._store=store}function Transaction(idbTransaction){this._tx=idbTransaction,this.complete=new Promise((function(resolve,reject){idbTransaction.oncomplete=function(){resolve()},idbTransaction.onerror=function(){reject(idbTransaction.error)},idbTransaction.onabort=function(){reject(idbTransaction.error)}}))}function UpgradeDB(db,oldVersion,transaction){this._db=db,this.oldVersion=oldVersion,this.transaction=new Transaction(transaction)}function DB(db){this._db=db}function openDb(name,version,upgradeCallback){var p=promisifyRequestCall(indexedDB,"open",[name,version]),request=p.request;return request&&(request.onupgradeneeded=function(event){upgradeCallback&&upgradeCallback(new UpgradeDB(request.result,event.oldVersion,request.transaction))}),p.then((function(db){return new DB(db)}))}function deleteDb(name){return promisifyRequestCall(indexedDB,"deleteDatabase",[name])}proxyProperties(Index,"_index",["name","keyPath","multiEntry","unique"]),proxyRequestMethods(Index,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),proxyCursorRequestMethods(Index,"_index",IDBIndex,["openCursor","openKeyCursor"]),proxyProperties(Cursor,"_cursor",["direction","key","primaryKey","value"]),proxyRequestMethods(Cursor,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(methodName){methodName in IDBCursor.prototype&&(Cursor.prototype[methodName]=function(){var cursor=this,args=arguments;return Promise.resolve().then((function(){return cursor._cursor[methodName].apply(cursor._cursor,args),promisifyRequest(cursor._request).then((function(value){if(value)return new Cursor(value,cursor._request)}))}))})})),ObjectStore.prototype.createIndex=function(){return new Index(this._store.createIndex.apply(this._store,arguments))},ObjectStore.prototype.index=function(){return new Index(this._store.index.apply(this._store,arguments))},proxyProperties(ObjectStore,"_store",["name","keyPath","indexNames","autoIncrement"]),proxyRequestMethods(ObjectStore,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),proxyCursorRequestMethods(ObjectStore,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),proxyMethods(ObjectStore,"_store",IDBObjectStore,["deleteIndex"]),Transaction.prototype.objectStore=function(){return new ObjectStore(this._tx.objectStore.apply(this._tx,arguments))},proxyProperties(Transaction,"_tx",["objectStoreNames","mode"]),proxyMethods(Transaction,"_tx",IDBTransaction,["abort"]),UpgradeDB.prototype.createObjectStore=function(){return new ObjectStore(this._db.createObjectStore.apply(this._db,arguments))},proxyProperties(UpgradeDB,"_db",["name","version","objectStoreNames"]),proxyMethods(UpgradeDB,"_db",IDBDatabase,["deleteObjectStore","close"]),DB.prototype.transaction=function(){return new Transaction(this._db.transaction.apply(this._db,arguments))},proxyProperties(DB,"_db",["name","version","objectStoreNames"]),proxyMethods(DB,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(funcName){[ObjectStore,Index].forEach((function(Constructor){funcName in Constructor.prototype&&(Constructor.prototype[funcName.replace("open","iterate")]=function(){var args=toArray(arguments),callback=args[args.length-1],nativeObject=this._store||this._index,request=nativeObject[funcName].apply(nativeObject,args.slice(0,-1));request.onsuccess=function(){callback(request.result)}})}))})),[Index,ObjectStore].forEach((function(Constructor){Constructor.prototype.getAll||(Constructor.prototype.getAll=function(query,count){var instance=this,items=[];return new Promise((function(resolve){instance.iterateCursor(query,(function(cursor){cursor?(items.push(cursor.value),void 0===count||items.length!=count?cursor.continue():resolve(items)):resolve(items)}))}))})})),exports.openDb=openDb,exports.deleteDb=deleteDb,Object.defineProperty(exports,"__esModule",{value:!0})}(exports)},190:function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var tslib=__webpack_require__(886),CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},assert=function(assertion,message){if(!assertion)throw assertionError(message)},assertionError=function(message){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+message)},stringToByteArray=function(str){for(var out=[],p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);c<128?out[p++]=c:c<2048?(out[p++]=c>>6|192,out[p++]=63&c|128):55296==(64512&c)&&i+1<str.length&&56320==(64512&str.charCodeAt(i+1))?(c=65536+((1023&c)<<10)+(1023&str.charCodeAt(++i)),out[p++]=c>>18|240,out[p++]=c>>12&63|128,out[p++]=c>>6&63|128,out[p++]=63&c|128):(out[p++]=c>>12|224,out[p++]=c>>6&63|128,out[p++]=63&c|128)}return out},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,webSafe){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var byteToCharMap=webSafe?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var byte1=input[i],haveByte2=i+1<input.length,byte2=haveByte2?input[i+1]:0,haveByte3=i+2<input.length,byte3=haveByte3?input[i+2]:0,outByte1=byte1>>2,outByte2=(3&byte1)<<4|byte2>>4,outByte3=(15&byte2)<<2|byte3>>6,outByte4=63&byte3;haveByte3||(outByte4=64,haveByte2||(outByte3=64)),output.push(byteToCharMap[outByte1],byteToCharMap[outByte2],byteToCharMap[outByte3],byteToCharMap[outByte4])}return output.join("")},encodeString:function(input,webSafe){return this.HAS_NATIVE_SUPPORT&&!webSafe?btoa(input):this.encodeByteArray(stringToByteArray(input),webSafe)},decodeString:function(input,webSafe){return this.HAS_NATIVE_SUPPORT&&!webSafe?atob(input):function(bytes){for(var out=[],pos=0,c=0;pos<bytes.length;){var c1=bytes[pos++];if(c1<128)out[c++]=String.fromCharCode(c1);else if(c1>191&&c1<224){var c2=bytes[pos++];out[c++]=String.fromCharCode((31&c1)<<6|63&c2)}else if(c1>239&&c1<365){var u=((7&c1)<<18|(63&(c2=bytes[pos++]))<<12|(63&(c3=bytes[pos++]))<<6|63&bytes[pos++])-65536;out[c++]=String.fromCharCode(55296+(u>>10)),out[c++]=String.fromCharCode(56320+(1023&u))}else{c2=bytes[pos++];var c3=bytes[pos++];out[c++]=String.fromCharCode((15&c1)<<12|(63&c2)<<6|63&c3)}}return out.join("")}(this.decodeStringToByteArray(input,webSafe))},decodeStringToByteArray:function(input,webSafe){this.init_();for(var charToByteMap=webSafe?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var byte1=charToByteMap[input.charAt(i++)],byte2=i<input.length?charToByteMap[input.charAt(i)]:0,byte3=++i<input.length?charToByteMap[input.charAt(i)]:64,byte4=++i<input.length?charToByteMap[input.charAt(i)]:64;if(++i,null==byte1||null==byte2||null==byte3||null==byte4)throw Error();var outByte1=byte1<<2|byte2>>4;if(output.push(outByte1),64!==byte3){var outByte2=byte2<<4&240|byte3>>2;if(output.push(outByte2),64!==byte4){var outByte3=byte3<<6&192|byte4;output.push(outByte3)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},base64Decode=function(str){try{return base64.decodeString(str,!0)}catch(e){}return null};function deepExtend(target,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===target&&(target={});break;case Array:target=[];break;default:return source}for(var prop in source)source.hasOwnProperty(prop)&&(target[prop]=deepExtend(target[prop],source[prop]));return target}var Deferred=function(){function Deferred(){var _this=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(resolve,reject){_this.resolve=resolve,_this.reject=reject}))}return Deferred.prototype.wrapCallback=function(callback){var _this=this;return function(error,value){error?_this.reject(error):_this.resolve(value),"function"==typeof callback&&(_this.promise.catch((function(){})),1===callback.length?callback(error):callback(error,value))}},Deferred}();function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isNode(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}var FirebaseError=function(_super){function FirebaseError(code,message){var _this=_super.call(this,message)||this;return _this.code=code,_this.name="FirebaseError",Object.setPrototypeOf(_this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(_this,ErrorFactory.prototype.create),_this}return tslib.__extends(FirebaseError,_super),FirebaseError}(Error),ErrorFactory=function(){function ErrorFactory(service,serviceName,errors){this.service=service,this.serviceName=serviceName,this.errors=errors}return ErrorFactory.prototype.create=function(code){for(var data=[],_i=1;_i<arguments.length;_i++)data[_i-1]=arguments[_i];for(var customData=data[0]||{},fullCode=this.service+"/"+code,template=this.errors[code],message=template?function(template,data){return template.replace(PATTERN,(function(_,key){var value=data[key];return null!=value?String(value):"<"+key+"?>"}))}(template,customData):"Error",fullMessage=this.serviceName+": "+message+" ("+fullCode+").",error=new FirebaseError(fullCode,fullMessage),_a=0,_b=Object.keys(customData);_a<_b.length;_a++){var key=_b[_a];"_"!==key.slice(-1)&&(error[key]=customData[key])}return error},ErrorFactory}();var PATTERN=/\{\$([^}]+)}/g;function jsonEval(str){return JSON.parse(str)}var decode=function(token){var header={},claims={},data={},signature="";try{var parts=token.split(".");header=jsonEval(base64Decode(parts[0])||""),claims=jsonEval(base64Decode(parts[1])||""),signature=parts[2],data=claims.d||{},delete claims.d}catch(e){}return{header:header,claims:claims,data:data,signature:signature}};var Sha1=function(){function Sha1(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return Sha1.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Sha1.prototype.compress_=function(buf,offset){offset||(offset=0);var W=this.W_;if("string"==typeof buf)for(var i=0;i<16;i++)W[i]=buf.charCodeAt(offset)<<24|buf.charCodeAt(offset+1)<<16|buf.charCodeAt(offset+2)<<8|buf.charCodeAt(offset+3),offset+=4;else for(i=0;i<16;i++)W[i]=buf[offset]<<24|buf[offset+1]<<16|buf[offset+2]<<8|buf[offset+3],offset+=4;for(i=16;i<80;i++){var t=W[i-3]^W[i-8]^W[i-14]^W[i-16];W[i]=4294967295&(t<<1|t>>>31)}var f,k,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],d=this.chain_[3],e=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(f=d^b&(c^d),k=1518500249):(f=b^c^d,k=1859775393):i<60?(f=b&c|d&(b|c),k=2400959708):(f=b^c^d,k=3395469782);t=(a<<5|a>>>27)+f+e+k+W[i]&4294967295;e=d,d=c,c=4294967295&(b<<30|b>>>2),b=a,a=t}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+e&4294967295},Sha1.prototype.update=function(bytes,length){if(null!=bytes){void 0===length&&(length=bytes.length);for(var lengthMinusBlock=length-this.blockSize,n=0,buf=this.buf_,inbuf=this.inbuf_;n<length;){if(0===inbuf)for(;n<=lengthMinusBlock;)this.compress_(bytes,n),n+=this.blockSize;if("string"==typeof bytes){for(;n<length;)if(buf[inbuf]=bytes.charCodeAt(n),++n,++inbuf===this.blockSize){this.compress_(buf),inbuf=0;break}}else for(;n<length;)if(buf[inbuf]=bytes[n],++n,++inbuf===this.blockSize){this.compress_(buf),inbuf=0;break}}this.inbuf_=inbuf,this.total_+=length}},Sha1.prototype.digest=function(){var digest=[],totalBits=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&totalBits,totalBits/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var j=24;j>=0;j-=8)digest[n]=this.chain_[i]>>j&255,++n;return digest},Sha1}();var ObserverProxy=function(){function ObserverProxy(executor,onNoObservers){var _this=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=onNoObservers,this.task.then((function(){executor(_this)})).catch((function(e){_this.error(e)}))}return ObserverProxy.prototype.next=function(value){this.forEachObserver((function(observer){observer.next(value)}))},ObserverProxy.prototype.error=function(error){this.forEachObserver((function(observer){observer.error(error)})),this.close(error)},ObserverProxy.prototype.complete=function(){this.forEachObserver((function(observer){observer.complete()})),this.close()},ObserverProxy.prototype.subscribe=function(nextOrObserver,error,complete){var observer,_this=this;if(void 0===nextOrObserver&&void 0===error&&void 0===complete)throw new Error("Missing Observer.");void 0===(observer=function(obj,methods){if("object"!=typeof obj||null===obj)return!1;for(var _i=0,methods_1=methods;_i<methods_1.length;_i++){var method=methods_1[_i];if(method in obj&&"function"==typeof obj[method])return!0}return!1}(nextOrObserver,["next","error","complete"])?nextOrObserver:{next:nextOrObserver,error:error,complete:complete}).next&&(observer.next=noop),void 0===observer.error&&(observer.error=noop),void 0===observer.complete&&(observer.complete=noop);var unsub=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{_this.finalError?observer.error(_this.finalError):observer.complete()}catch(e){}})),this.observers.push(observer),unsub},ObserverProxy.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ObserverProxy.prototype.forEachObserver=function(fn){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,fn)},ObserverProxy.prototype.sendOne=function(i,fn){var _this=this;this.task.then((function(){if(void 0!==_this.observers&&void 0!==_this.observers[i])try{fn(_this.observers[i])}catch(e){"undefined"!=typeof console&&console.error}}))},ObserverProxy.prototype.close=function(err){var _this=this;this.finalized||(this.finalized=!0,void 0!==err&&(this.finalError=err),this.task.then((function(){_this.observers=void 0,_this.onNoObservers=void 0})))},ObserverProxy}();function noop(){}function errorPrefix(fnName,argumentNumber,optional){var argName="";switch(argumentNumber){case 1:argName=optional?"first":"First";break;case 2:argName=optional?"second":"Second";break;case 3:argName=optional?"third":"Third";break;case 4:argName=optional?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var error=fnName+" failed: ";return error+=argName+" argument "}exports.CONSTANTS=CONSTANTS,exports.Deferred=Deferred,exports.ErrorFactory=ErrorFactory,exports.FirebaseError=FirebaseError,exports.MAX_VALUE_MILLIS=144e5,exports.RANDOM_FACTOR=.5,exports.Sha1=Sha1,exports.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},exports.assert=assert,exports.assertionError=assertionError,exports.async=function(fn,onError){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];Promise.resolve(!0).then((function(){fn.apply(void 0,args)})).catch((function(error){onError&&onError(error)}))}},exports.base64=base64,exports.base64Decode=base64Decode,exports.base64Encode=function(str){var utf8Bytes=stringToByteArray(str);return base64.encodeByteArray(utf8Bytes,!0)},exports.calculateBackoffMillis=function(backoffCount,intervalMillis,backoffFactor){void 0===intervalMillis&&(intervalMillis=1e3),void 0===backoffFactor&&(backoffFactor=2);var currBaseValue=intervalMillis*Math.pow(backoffFactor,backoffCount),randomWait=Math.round(.5*currBaseValue*(Math.random()-.5)*2);return Math.min(144e5,currBaseValue+randomWait)},exports.contains=function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)},exports.createSubscribe=function(executor,onNoObservers){var proxy=new ObserverProxy(executor,onNoObservers);return proxy.subscribe.bind(proxy)},exports.decode=decode,exports.deepCopy=function(value){return deepExtend(void 0,value)},exports.deepExtend=deepExtend,exports.errorPrefix=errorPrefix,exports.getUA=getUA,exports.isAdmin=function(token){var claims=decode(token).claims;return"object"==typeof claims&&!0===claims.admin},exports.isBrowser=function(){return"object"==typeof self&&self.self===self},exports.isBrowserExtension=function(){var runtime="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof runtime&&void 0!==runtime.id},exports.isElectron=function(){return getUA().indexOf("Electron/")>=0},exports.isEmpty=function(obj){for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key))return!1;return!0},exports.isIE=function(){var ua=getUA();return ua.indexOf("MSIE ")>=0||ua.indexOf("Trident/")>=0},exports.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},exports.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())},exports.isNode=isNode,exports.isNodeSdk=function(){return!0===CONSTANTS.NODE_CLIENT||!0===CONSTANTS.NODE_ADMIN},exports.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},exports.isSafari=function(){return!isNode()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},exports.isUWP=function(){return getUA().indexOf("MSAppHost/")>=0},exports.isValidFormat=function(token){var claims=decode(token).claims;return!!claims&&"object"==typeof claims&&claims.hasOwnProperty("iat")},exports.isValidTimestamp=function(token){var claims=decode(token).claims,now=Math.floor((new Date).getTime()/1e3),validSince=0,validUntil=0;return"object"==typeof claims&&(claims.hasOwnProperty("nbf")?validSince=claims.nbf:claims.hasOwnProperty("iat")&&(validSince=claims.iat),validUntil=claims.hasOwnProperty("exp")?claims.exp:validSince+86400),!!now&&!!validSince&&!!validUntil&&now>=validSince&&now<=validUntil},exports.issuedAtTime=function(token){var claims=decode(token).claims;return"object"==typeof claims&&claims.hasOwnProperty("iat")?claims.iat:null},exports.jsonEval=jsonEval,exports.map=function(obj,fn,contextObj){var res={};for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(res[key]=fn.call(contextObj,obj[key],key,obj));return res},exports.querystring=function(querystringParams){for(var params=[],_loop_1=function(key,value){Array.isArray(value)?value.forEach((function(arrayVal){params.push(encodeURIComponent(key)+"="+encodeURIComponent(arrayVal))})):params.push(encodeURIComponent(key)+"="+encodeURIComponent(value))},_i=0,_a=Object.entries(querystringParams);_i<_a.length;_i++){var _b=_a[_i];_loop_1(_b[0],_b[1])}return params.length?"&"+params.join("&"):""},exports.querystringDecode=function(querystring){var obj={};return querystring.replace(/^\?/,"").split("&").forEach((function(token){if(token){var key=token.split("=");obj[key[0]]=key[1]}})),obj},exports.safeGet=function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)?obj[key]:void 0},exports.stringLength=function(str){for(var p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);c<128?p++:c<2048?p+=2:c>=55296&&c<=56319?(p+=4,i++):p+=3}return p},exports.stringToByteArray=function(str){for(var out=[],p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);if(c>=55296&&c<=56319){var high=c-55296;i++,assert(i<str.length,"Surrogate pair missing trail surrogate."),c=65536+(high<<10)+(str.charCodeAt(i)-56320)}c<128?out[p++]=c:c<2048?(out[p++]=c>>6|192,out[p++]=63&c|128):c<65536?(out[p++]=c>>12|224,out[p++]=c>>6&63|128,out[p++]=63&c|128):(out[p++]=c>>18|240,out[p++]=c>>12&63|128,out[p++]=c>>6&63|128,out[p++]=63&c|128)}return out},exports.stringify=function(data){return JSON.stringify(data)},exports.validateArgCount=function(fnName,minCount,maxCount,argCount){var argError;if(argCount<minCount?argError="at least "+minCount:argCount>maxCount&&(argError=0===maxCount?"none":"no more than "+maxCount),argError)throw new Error(fnName+" failed: Was called with "+argCount+(1===argCount?" argument.":" arguments.")+" Expects "+argError+".")},exports.validateCallback=function(fnName,argumentNumber,callback,optional){if((!optional||callback)&&"function"!=typeof callback)throw new Error(errorPrefix(fnName,argumentNumber,optional)+"must be a valid function.")},exports.validateContextObject=function(fnName,argumentNumber,context,optional){if((!optional||context)&&("object"!=typeof context||null===context))throw new Error(errorPrefix(fnName,argumentNumber,optional)+"must be a valid context object.")},exports.validateIndexedDBOpenable=function(){return new Promise((function(resolve,reject){try{var preExist_1=!0,DB_CHECK_NAME_1="validate-browser-context-for-indexeddb-analytics-module",request_1=window.indexedDB.open(DB_CHECK_NAME_1);request_1.onsuccess=function(){request_1.result.close(),preExist_1||window.indexedDB.deleteDatabase(DB_CHECK_NAME_1),resolve(!0)},request_1.onupgradeneeded=function(){preExist_1=!1},request_1.onerror=function(){var _a;reject((null===(_a=request_1.error)||void 0===_a?void 0:_a.message)||"")}}catch(error){reject(error)}}))},exports.validateNamespace=function(fnName,argumentNumber,namespace,optional){if((!optional||namespace)&&"string"!=typeof namespace)throw new Error(errorPrefix(fnName,argumentNumber,optional)+"must be a valid firebase namespace.")}}).call(this,__webpack_require__(60))},256:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _a,_a$1,tslib=__webpack_require__(885),util=__webpack_require__(190),component=__webpack_require__(257),logger$1=__webpack_require__(888),ERRORS=((_a={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",_a["bad-app-name"]="Illegal App name: '{$appName}",_a["duplicate-app"]="Firebase App named '{$appName}' already exists",_a["app-deleted"]="Firebase App named '{$appName}' already deleted",_a["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",_a["invalid-log-argument"]="First argument to `onLog` must be null or a function.",_a),ERROR_FACTORY=new util.ErrorFactory("app","Firebase",ERRORS),DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING=((_a$1={})["@firebase/app"]="fire-core",_a$1["@firebase/analytics"]="fire-analytics",_a$1["@firebase/auth"]="fire-auth",_a$1["@firebase/database"]="fire-rtdb",_a$1["@firebase/functions"]="fire-fn",_a$1["@firebase/installations"]="fire-iid",_a$1["@firebase/messaging"]="fire-fcm",_a$1["@firebase/performance"]="fire-perf",_a$1["@firebase/remote-config"]="fire-rc",_a$1["@firebase/storage"]="fire-gcs",_a$1["@firebase/firestore"]="fire-fst",_a$1["fire-js"]="fire-js",_a$1["firebase-wrapper"]="fire-js-all",_a$1),logger=new logger$1.Logger("@firebase/app"),FirebaseAppImpl=function(){function FirebaseAppImpl(options,config,firebase_){var e_1,_a,_this=this;this.firebase_=firebase_,this.isDeleted_=!1,this.name_=config.name,this.automaticDataCollectionEnabled_=config.automaticDataCollectionEnabled||!1,this.options_=util.deepCopy(options),this.container=new component.ComponentContainer(config.name),this._addComponent(new component.Component("app",(function(){return _this}),"PUBLIC"));try{for(var _b=tslib.__values(this.firebase_.INTERNAL.components.values()),_c=_b.next();!_c.done;_c=_b.next()){var component$1=_c.value;this._addComponent(component$1)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}return Object.defineProperty(FirebaseAppImpl.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(val){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=val},enumerable:!1,configurable:!0}),Object.defineProperty(FirebaseAppImpl.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(FirebaseAppImpl.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),FirebaseAppImpl.prototype.delete=function(){var _this=this;return new Promise((function(resolve){_this.checkDestroyed_(),resolve()})).then((function(){return _this.firebase_.INTERNAL.removeApp(_this.name_),Promise.all(_this.container.getProviders().map((function(provider){return provider.delete()})))})).then((function(){_this.isDeleted_=!0}))},FirebaseAppImpl.prototype._getService=function(name,instanceIdentifier){return void 0===instanceIdentifier&&(instanceIdentifier=DEFAULT_ENTRY_NAME),this.checkDestroyed_(),this.container.getProvider(name).getImmediate({identifier:instanceIdentifier})},FirebaseAppImpl.prototype._removeServiceInstance=function(name,instanceIdentifier){void 0===instanceIdentifier&&(instanceIdentifier=DEFAULT_ENTRY_NAME),this.container.getProvider(name).clearInstance(instanceIdentifier)},FirebaseAppImpl.prototype._addComponent=function(component){try{this.container.addComponent(component)}catch(e){logger.debug("Component "+component.name+" failed to register with FirebaseApp "+this.name,e)}},FirebaseAppImpl.prototype._addOrOverwriteComponent=function(component){this.container.addOrOverwriteComponent(component)},FirebaseAppImpl.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ERROR_FACTORY.create("app-deleted",{appName:this.name_})},FirebaseAppImpl}();FirebaseAppImpl.prototype.name&&FirebaseAppImpl.prototype.options||FirebaseAppImpl.prototype.delete;var version$1="7.20.0";var firebase=function createFirebaseNamespace(){var namespace=function(firebaseAppImpl){var apps={},components=new Map,namespace={__esModule:!0,initializeApp:function(options,rawConfig){void 0===rawConfig&&(rawConfig={}),"object"==typeof rawConfig&&null!==rawConfig||(rawConfig={name:rawConfig});var config=rawConfig;void 0===config.name&&(config.name=DEFAULT_ENTRY_NAME);var name=config.name;if("string"!=typeof name||!name)throw ERROR_FACTORY.create("bad-app-name",{appName:String(name)});if(util.contains(apps,name))throw ERROR_FACTORY.create("duplicate-app",{appName:name});var app=new firebaseAppImpl(options,config,namespace);return apps[name]=app,app},app:app,registerVersion:function(libraryKeyOrName,version,variant){var _a,library=null!==(_a=PLATFORM_LOG_STRING[libraryKeyOrName])&&void 0!==_a?_a:libraryKeyOrName;variant&&(library+="-"+variant);var libraryMismatch=library.match(/\s|\//),versionMismatch=version.match(/\s|\//);if(libraryMismatch||versionMismatch){var warning=['Unable to register library "'+library+'" with version "'+version+'":'];return libraryMismatch&&warning.push('library name "'+library+'" contains illegal characters (whitespace or "/")'),libraryMismatch&&versionMismatch&&warning.push("and"),versionMismatch&&warning.push('version name "'+version+'" contains illegal characters (whitespace or "/")'),void logger.warn(warning.join(" "))}registerComponent(new component.Component(library+"-version",(function(){return{library:library,version:version}}),"VERSION"))},setLogLevel:logger$1.setLogLevel,onLog:function(logCallback,options){if(null!==logCallback&&"function"!=typeof logCallback)throw ERROR_FACTORY.create("invalid-log-argument",{appName:name});logger$1.setUserLogHandler(logCallback,options)},apps:null,SDK_VERSION:version$1,INTERNAL:{registerComponent:registerComponent,removeApp:function(name){delete apps[name]},components:components,useAsService:function(app,name){return"serverAuth"===name?null:name}}};function app(name){if(name=name||DEFAULT_ENTRY_NAME,!util.contains(apps,name))throw ERROR_FACTORY.create("no-app",{appName:name});return apps[name]}function registerComponent(component){var e_1,_a,componentName=component.name;if(components.has(componentName))return logger.debug("There were multiple attempts to register component "+componentName+"."),"PUBLIC"===component.type?namespace[componentName]:null;if(components.set(componentName,component),"PUBLIC"===component.type){var serviceNamespace=function(appArg){if(void 0===appArg&&(appArg=app()),"function"!=typeof appArg[componentName])throw ERROR_FACTORY.create("invalid-app-argument",{appName:componentName});return appArg[componentName]()};void 0!==component.serviceProps&&util.deepExtend(serviceNamespace,component.serviceProps),namespace[componentName]=serviceNamespace,firebaseAppImpl.prototype[componentName]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return this._getService.bind(this,componentName).apply(this,component.multipleInstances?args:[])}}try{for(var _b=tslib.__values(Object.keys(apps)),_c=_b.next();!_c.done;_c=_b.next()){var appName=_c.value;apps[appName]._addComponent(component)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return"PUBLIC"===component.type?namespace[componentName]:null}return namespace.default=namespace,Object.defineProperty(namespace,"apps",{get:function(){return Object.keys(apps).map((function(name){return apps[name]}))}}),app.App=firebaseAppImpl,namespace}(FirebaseAppImpl);return namespace.INTERNAL=tslib.__assign(tslib.__assign({},namespace.INTERNAL),{createFirebaseNamespace:createFirebaseNamespace,extendNamespace:function(props){util.deepExtend(namespace,props)},createSubscribe:util.createSubscribe,ErrorFactory:util.ErrorFactory,deepExtend:util.deepExtend}),namespace}(),PlatformLoggerService=function(){function PlatformLoggerService(container){this.container=container}return PlatformLoggerService.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(provider){if(function(provider){var component=provider.getComponent();return"VERSION"===(null==component?void 0:component.type)}(provider)){var service=provider.getImmediate();return service.library+"/"+service.version}return null})).filter((function(logString){return logString})).join(" ")},PlatformLoggerService}();if(util.isBrowser()&&void 0!==self.firebase){logger.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var sdkVersion=self.firebase.SDK_VERSION;sdkVersion&&sdkVersion.indexOf("LITE")>=0&&logger.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var initializeApp=firebase.initializeApp;firebase.initializeApp=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return util.isNode()&&logger.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),initializeApp.apply(void 0,args)};var firebase$1=firebase;!function(firebase,variant){firebase.INTERNAL.registerComponent(new component.Component("platform-logger",(function(container){return new PlatformLoggerService(container)}),"PRIVATE")),firebase.registerVersion("@firebase/app","0.6.11",variant),firebase.registerVersion("fire-js","")}(firebase$1),exports.default=firebase$1,exports.firebase=firebase$1},257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=__webpack_require__(887),util=__webpack_require__(190),Component=function(){function Component(name,instanceFactory,type){this.name=name,this.instanceFactory=instanceFactory,this.type=type,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Component.prototype.setInstantiationMode=function(mode){return this.instantiationMode=mode,this},Component.prototype.setMultipleInstances=function(multipleInstances){return this.multipleInstances=multipleInstances,this},Component.prototype.setServiceProps=function(props){return this.serviceProps=props,this},Component}(),Provider=function(){function Provider(name,container){this.name=name,this.container=container,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Provider.prototype.get=function(identifier){void 0===identifier&&(identifier="[DEFAULT]");var normalizedIdentifier=this.normalizeInstanceIdentifier(identifier);if(!this.instancesDeferred.has(normalizedIdentifier)){var deferred=new util.Deferred;this.instancesDeferred.set(normalizedIdentifier,deferred);try{var instance=this.getOrInitializeService(normalizedIdentifier);instance&&deferred.resolve(instance)}catch(e){}}return this.instancesDeferred.get(normalizedIdentifier).promise},Provider.prototype.getImmediate=function(options){var _a=tslib.__assign({identifier:"[DEFAULT]",optional:!1},options),identifier=_a.identifier,optional=_a.optional,normalizedIdentifier=this.normalizeInstanceIdentifier(identifier);try{var instance=this.getOrInitializeService(normalizedIdentifier);if(!instance){if(optional)return null;throw Error("Service "+this.name+" is not available")}return instance}catch(e){if(optional)return null;throw e}},Provider.prototype.getComponent=function(){return this.component},Provider.prototype.setComponent=function(component){var e_1,_a;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService("[DEFAULT]")}catch(e){}try{for(var _b=tslib.__values(this.instancesDeferred.entries()),_c=_b.next();!_c.done;_c=_b.next()){var _d=tslib.__read(_c.value,2),instanceIdentifier=_d[0],instanceDeferred=_d[1],normalizedIdentifier=this.normalizeInstanceIdentifier(instanceIdentifier);try{var instance=this.getOrInitializeService(normalizedIdentifier);instanceDeferred.resolve(instance)}catch(e){}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},Provider.prototype.clearInstance=function(identifier){void 0===identifier&&(identifier="[DEFAULT]"),this.instancesDeferred.delete(identifier),this.instances.delete(identifier)},Provider.prototype.delete=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var services;return tslib.__generator(this,(function(_a){switch(_a.label){case 0:return services=Array.from(this.instances.values()),[4,Promise.all(tslib.__spread(services.filter((function(service){return"INTERNAL"in service})).map((function(service){return service.INTERNAL.delete()})),services.filter((function(service){return"_delete"in service})).map((function(service){return service._delete()}))))];case 1:return _a.sent(),[2]}}))}))},Provider.prototype.isComponentSet=function(){return null!=this.component},Provider.prototype.getOrInitializeService=function(identifier){var instance=this.instances.get(identifier);return!instance&&this.component&&(instance=this.component.instanceFactory(this.container,function(identifier){return"[DEFAULT]"===identifier?void 0:identifier}(identifier)),this.instances.set(identifier,instance)),instance||null},Provider.prototype.normalizeInstanceIdentifier=function(identifier){return this.component?this.component.multipleInstances?identifier:"[DEFAULT]":identifier},Provider}();var ComponentContainer=function(){function ComponentContainer(name){this.name=name,this.providers=new Map}return ComponentContainer.prototype.addComponent=function(component){var provider=this.getProvider(component.name);if(provider.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);provider.setComponent(component)},ComponentContainer.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},ComponentContainer.prototype.getProvider=function(name){if(this.providers.has(name))return this.providers.get(name);var provider=new Provider(name,this);return this.providers.set(name,provider),provider},ComponentContainer.prototype.getProviders=function(){return Array.from(this.providers.values())},ComponentContainer}();exports.Component=Component,exports.ComponentContainer=ComponentContainer,exports.Provider=Provider},60:function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},641:function(module,exports,__webpack_require__){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var firebase__default=_interopDefaultLegacy(__webpack_require__(256));firebase__default.default.registerVersion("firebase","7.24.0","app"),module.exports=firebase__default.default},885:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__extends",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"__assign",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"__rest",(function(){return __rest})),__webpack_require__.d(__webpack_exports__,"__decorate",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"__param",(function(){return __param})),__webpack_require__.d(__webpack_exports__,"__metadata",(function(){return __metadata})),__webpack_require__.d(__webpack_exports__,"__awaiter",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"__generator",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"__createBinding",(function(){return __createBinding})),__webpack_require__.d(__webpack_exports__,"__exportStar",(function(){return __exportStar})),__webpack_require__.d(__webpack_exports__,"__values",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"__read",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"__spread",(function(){return __spread})),__webpack_require__.d(__webpack_exports__,"__spreadArrays",(function(){return __spreadArrays})),__webpack_require__.d(__webpack_exports__,"__await",(function(){return __await})),__webpack_require__.d(__webpack_exports__,"__asyncGenerator",(function(){return __asyncGenerator})),__webpack_require__.d(__webpack_exports__,"__asyncDelegator",(function(){return __asyncDelegator})),__webpack_require__.d(__webpack_exports__,"__asyncValues",(function(){return __asyncValues})),__webpack_require__.d(__webpack_exports__,"__makeTemplateObject",(function(){return __makeTemplateObject})),__webpack_require__.d(__webpack_exports__,"__importStar",(function(){return __importStar})),__webpack_require__.d(__webpack_exports__,"__importDefault",(function(){return __importDefault})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldGet",(function(){return __classPrivateFieldGet})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldSet",(function(){return __classPrivateFieldSet}));var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{(r=g[n](v)).value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}catch(e){settle(q[0][3],e)}var r}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},886:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__extends",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"__assign",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"__rest",(function(){return __rest})),__webpack_require__.d(__webpack_exports__,"__decorate",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"__param",(function(){return __param})),__webpack_require__.d(__webpack_exports__,"__metadata",(function(){return __metadata})),__webpack_require__.d(__webpack_exports__,"__awaiter",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"__generator",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"__createBinding",(function(){return __createBinding})),__webpack_require__.d(__webpack_exports__,"__exportStar",(function(){return __exportStar})),__webpack_require__.d(__webpack_exports__,"__values",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"__read",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"__spread",(function(){return __spread})),__webpack_require__.d(__webpack_exports__,"__spreadArrays",(function(){return __spreadArrays})),__webpack_require__.d(__webpack_exports__,"__await",(function(){return __await})),__webpack_require__.d(__webpack_exports__,"__asyncGenerator",(function(){return __asyncGenerator})),__webpack_require__.d(__webpack_exports__,"__asyncDelegator",(function(){return __asyncDelegator})),__webpack_require__.d(__webpack_exports__,"__asyncValues",(function(){return __asyncValues})),__webpack_require__.d(__webpack_exports__,"__makeTemplateObject",(function(){return __makeTemplateObject})),__webpack_require__.d(__webpack_exports__,"__importStar",(function(){return __importStar})),__webpack_require__.d(__webpack_exports__,"__importDefault",(function(){return __importDefault})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldGet",(function(){return __classPrivateFieldGet})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldSet",(function(){return __classPrivateFieldSet}));var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{(r=g[n](v)).value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}catch(e){settle(q[0][3],e)}var r}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},887:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__extends",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"__assign",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"__rest",(function(){return __rest})),__webpack_require__.d(__webpack_exports__,"__decorate",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"__param",(function(){return __param})),__webpack_require__.d(__webpack_exports__,"__metadata",(function(){return __metadata})),__webpack_require__.d(__webpack_exports__,"__awaiter",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"__generator",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"__createBinding",(function(){return __createBinding})),__webpack_require__.d(__webpack_exports__,"__exportStar",(function(){return __exportStar})),__webpack_require__.d(__webpack_exports__,"__values",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"__read",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"__spread",(function(){return __spread})),__webpack_require__.d(__webpack_exports__,"__spreadArrays",(function(){return __spreadArrays})),__webpack_require__.d(__webpack_exports__,"__await",(function(){return __await})),__webpack_require__.d(__webpack_exports__,"__asyncGenerator",(function(){return __asyncGenerator})),__webpack_require__.d(__webpack_exports__,"__asyncDelegator",(function(){return __asyncDelegator})),__webpack_require__.d(__webpack_exports__,"__asyncValues",(function(){return __asyncValues})),__webpack_require__.d(__webpack_exports__,"__makeTemplateObject",(function(){return __makeTemplateObject})),__webpack_require__.d(__webpack_exports__,"__importStar",(function(){return __importStar})),__webpack_require__.d(__webpack_exports__,"__importDefault",(function(){return __importDefault})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldGet",(function(){return __classPrivateFieldGet})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldSet",(function(){return __classPrivateFieldSet}));var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{(r=g[n](v)).value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}catch(e){settle(q[0][3],e)}var r}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},888:function(module,__webpack_exports__,__webpack_require__){"use strict";function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}var _a;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LogLevel",(function(){return LogLevel})),__webpack_require__.d(__webpack_exports__,"Logger",(function(){return Logger})),__webpack_require__.d(__webpack_exports__,"setLogLevel",(function(){return setLogLevel})),__webpack_require__.d(__webpack_exports__,"setUserLogHandler",(function(){return setUserLogHandler}));var LogLevel,instances=[];!function(LogLevel){LogLevel[LogLevel.DEBUG=0]="DEBUG",LogLevel[LogLevel.VERBOSE=1]="VERBOSE",LogLevel[LogLevel.INFO=2]="INFO",LogLevel[LogLevel.WARN=3]="WARN",LogLevel[LogLevel.ERROR=4]="ERROR",LogLevel[LogLevel.SILENT=5]="SILENT"}(LogLevel||(LogLevel={}));var levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod=((_a={})[LogLevel.DEBUG]="log",_a[LogLevel.VERBOSE]="log",_a[LogLevel.INFO]="info",_a[LogLevel.WARN]="warn",_a[LogLevel.ERROR]="error",_a),defaultLogHandler=function(instance,logType){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];if(!(logType<instance.logLevel)){(new Date).toISOString();if(!ConsoleMethod[logType])throw new Error("Attempted to log a message with an invalid logType (value: "+logType+")")}},Logger=function(){function Logger(name){this.name=name,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances.push(this)}return Object.defineProperty(Logger.prototype,"logLevel",{get:function(){return this._logLevel},set:function(val){if(!(val in LogLevel))throw new TypeError('Invalid value "'+val+'" assigned to `logLevel`');this._logLevel=val},enumerable:!1,configurable:!0}),Logger.prototype.setLogLevel=function(val){this._logLevel="string"==typeof val?levelStringToEnum[val]:val},Object.defineProperty(Logger.prototype,"logHandler",{get:function(){return this._logHandler},set:function(val){if("function"!=typeof val)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=val},enumerable:!1,configurable:!0}),Object.defineProperty(Logger.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(val){this._userLogHandler=val},enumerable:!1,configurable:!0}),Logger.prototype.debug=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.DEBUG],args)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.DEBUG],args))},Logger.prototype.log=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.VERBOSE],args)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.VERBOSE],args))},Logger.prototype.info=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.INFO],args)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.INFO],args))},Logger.prototype.warn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.WARN],args)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.WARN],args))},Logger.prototype.error=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.ERROR],args)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.ERROR],args))},Logger}();function setLogLevel(level){instances.forEach((function(inst){inst.setLogLevel(level)}))}function setUserLogHandler(logCallback,options){for(var _loop_1=function(instance){var customLogLevel=null;options&&options.level&&(customLogLevel=levelStringToEnum[options.level]),instance.userLogHandler=null===logCallback?null:function(instance,level){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var message=args.map((function(arg){if(null==arg)return null;if("string"==typeof arg)return arg;if("number"==typeof arg||"boolean"==typeof arg)return arg.toString();if(arg instanceof Error)return arg.message;try{return JSON.stringify(arg)}catch(ignored){return null}})).filter((function(arg){return arg})).join(" ");level>=(null!=customLogLevel?customLogLevel:instance.logLevel)&&logCallback({level:LogLevel[level].toLowerCase(),message:message,args:args,type:instance.name})}},_i=0,instances_1=instances;_i<instances_1.length;_i++){_loop_1(instances_1[_i])}}},900:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var index_cjs=__webpack_require__(256),index_cjs_default=__webpack_require__.n(index_cjs),dist_index_cjs=__webpack_require__(257);var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}var index_esm_a,util_dist_index_cjs=__webpack_require__(190),idb=__webpack_require__(182),PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION="w:0.4.17",INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=36e5,ERROR_DESCRIPTION_MAP=((index_esm_a={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',index_esm_a["not-registered"]="Firebase Installation is not registered.",index_esm_a["installation-not-found"]="Firebase Installation not found.",index_esm_a["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',index_esm_a["app-offline"]="Could not process request. Application offline.",index_esm_a["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",index_esm_a),ERROR_FACTORY=new util_dist_index_cjs.ErrorFactory("installations","Installations",ERROR_DESCRIPTION_MAP);function isServerError(error){return error instanceof util_dist_index_cjs.FirebaseError&&error.code.includes("request-failed")}function getInstallationsEndpoint(_a){var projectId=_a.projectId;return INSTALLATIONS_API_URL+"/projects/"+projectId+"/installations"}function extractAuthTokenInfoFromResponse(response){return{token:response.token,requestStatus:2,expiresIn:(responseExpiresIn=response.expiresIn,Number(responseExpiresIn.replace("s","000"))),creationTime:Date.now()};var responseExpiresIn}function getErrorFromResponse(requestName,response){return __awaiter(this,void 0,void 0,(function(){var responseJson,errorData;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,response.json()];case 1:return responseJson=_a.sent(),errorData=responseJson.error,[2,ERROR_FACTORY.create("request-failed",{requestName:requestName,serverCode:errorData.code,serverMessage:errorData.message,serverStatus:errorData.status})]}}))}))}function getHeaders(_a){var apiKey=_a.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":apiKey})}function getHeadersWithAuth(appConfig,_a){var refreshToken=_a.refreshToken,headers=getHeaders(appConfig);return headers.append("Authorization",function(refreshToken){return INTERNAL_AUTH_VERSION+" "+refreshToken}(refreshToken)),headers}function retryIfServerError(fn){return __awaiter(this,void 0,void 0,(function(){var result;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,fn()];case 1:return(result=_a.sent()).status>=500&&result.status<600?[2,fn()]:[2,result]}}))}))}function createInstallationRequest(appConfig,_a){var fid=_a.fid;return __awaiter(this,void 0,void 0,(function(){var endpoint,headers,body,request,response,responseValue;return __generator(this,(function(_b){switch(_b.label){case 0:return endpoint=getInstallationsEndpoint(appConfig),headers=getHeaders(appConfig),body={fid:fid,authVersion:INTERNAL_AUTH_VERSION,appId:appConfig.appId,sdkVersion:PACKAGE_VERSION},request={method:"POST",headers:headers,body:JSON.stringify(body)},[4,retryIfServerError((function(){return fetch(endpoint,request)}))];case 1:return(response=_b.sent()).ok?[4,response.json()]:[3,3];case 2:return responseValue=_b.sent(),[2,{fid:responseValue.fid||fid,registrationStatus:2,refreshToken:responseValue.refreshToken,authToken:extractAuthTokenInfoFromResponse(responseValue.authToken)}];case 3:return[4,getErrorFromResponse("Create Installation",response)];case 4:throw _b.sent()}}))}))}function sleep(ms){return new Promise((function(resolve){setTimeout(resolve,ms)}))}function bufferToBase64UrlSafe(array){var b64=btoa(String.fromCharCode.apply(String,function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}(array)));return b64.replace(/\+/g,"-").replace(/\//g,"_")}var VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{var fidByteArray=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(fidByteArray),fidByteArray[0]=112+fidByteArray[0]%16;var fid=function(fidByteArray){var b64String=bufferToBase64UrlSafe(fidByteArray);return b64String.substr(0,22)}(fidByteArray);return VALID_FID_PATTERN.test(fid)?fid:INVALID_FID}catch(_a){return INVALID_FID}}function getKey(appConfig){return appConfig.appName+"!"+appConfig.appId}var fidChangeCallbacks=new Map;function fidChanged(appConfig,fid){var key=getKey(appConfig);callFidChangeCallbacks(key,fid),function(key,fid){var channel=getBroadcastChannel();channel&&channel.postMessage({key:key,fid:fid});closeBroadcastChannel()}(key,fid)}function callFidChangeCallbacks(key,fid){var e_1,_a,callbacks=fidChangeCallbacks.get(key);if(callbacks)try{for(var callbacks_1=__values(callbacks),callbacks_1_1=callbacks_1.next();!callbacks_1_1.done;callbacks_1_1=callbacks_1.next()){(0,callbacks_1_1.value)(fid)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{callbacks_1_1&&!callbacks_1_1.done&&(_a=callbacks_1.return)&&_a.call(callbacks_1)}finally{if(e_1)throw e_1.error}}}var broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&((broadcastChannel=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){callFidChangeCallbacks(e.data.key,e.data.fid)}),broadcastChannel}function closeBroadcastChannel(){0===fidChangeCallbacks.size&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}var instance,DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store",dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=Object(idb.openDb)(DATABASE_NAME,DATABASE_VERSION,(function(upgradeDB){if(0===upgradeDB.oldVersion)upgradeDB.createObjectStore(OBJECT_STORE_NAME)}))),dbPromise}function set(appConfig,value){return __awaiter(this,void 0,void 0,(function(){var key,db,tx,objectStore,oldValue;return __generator(this,(function(_a){switch(_a.label){case 0:return key=getKey(appConfig),[4,getDbPromise()];case 1:return db=_a.sent(),tx=db.transaction(OBJECT_STORE_NAME,"readwrite"),[4,(objectStore=tx.objectStore(OBJECT_STORE_NAME)).get(key)];case 2:return oldValue=_a.sent(),[4,objectStore.put(value,key)];case 3:return _a.sent(),[4,tx.complete];case 4:return _a.sent(),oldValue&&oldValue.fid===value.fid||fidChanged(appConfig,value.fid),[2,value]}}))}))}function remove(appConfig){return __awaiter(this,void 0,void 0,(function(){var key,db,tx;return __generator(this,(function(_a){switch(_a.label){case 0:return key=getKey(appConfig),[4,getDbPromise()];case 1:return db=_a.sent(),[4,(tx=db.transaction(OBJECT_STORE_NAME,"readwrite")).objectStore(OBJECT_STORE_NAME).delete(key)];case 2:return _a.sent(),[4,tx.complete];case 3:return _a.sent(),[2]}}))}))}function update(appConfig,updateFn){return __awaiter(this,void 0,void 0,(function(){var key,db,tx,store,oldValue,newValue;return __generator(this,(function(_a){switch(_a.label){case 0:return key=getKey(appConfig),[4,getDbPromise()];case 1:return db=_a.sent(),tx=db.transaction(OBJECT_STORE_NAME,"readwrite"),[4,(store=tx.objectStore(OBJECT_STORE_NAME)).get(key)];case 2:return oldValue=_a.sent(),void 0!==(newValue=updateFn(oldValue))?[3,4]:[4,store.delete(key)];case 3:return _a.sent(),[3,6];case 4:return[4,store.put(newValue,key)];case 5:_a.sent(),_a.label=6;case 6:return[4,tx.complete];case 7:return _a.sent(),!newValue||oldValue&&oldValue.fid===newValue.fid||fidChanged(appConfig,newValue.fid),[2,newValue]}}))}))}function getInstallationEntry(appConfig){return __awaiter(this,void 0,void 0,(function(){var registrationPromise,installationEntry,_a;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,update(appConfig,(function(oldEntry){var installationEntry=function(oldEntry){var entry=oldEntry||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(entry)}(oldEntry),entryWithPromise=function(appConfig,installationEntry){if(0===installationEntry.registrationStatus){if(!navigator.onLine)return{installationEntry:installationEntry,registrationPromise:Promise.reject(ERROR_FACTORY.create("app-offline"))};var inProgressEntry={fid:installationEntry.fid,registrationStatus:1,registrationTime:Date.now()},registrationPromise=function(appConfig,installationEntry){return __awaiter(this,void 0,void 0,(function(){var registeredInstallationEntry,e_1;return __generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,7]),[4,createInstallationRequest(appConfig,installationEntry)];case 1:return registeredInstallationEntry=_a.sent(),[2,set(appConfig,registeredInstallationEntry)];case 2:return isServerError(e_1=_a.sent())&&409===e_1.serverCode?[4,remove(appConfig)]:[3,4];case 3:return _a.sent(),[3,6];case 4:return[4,set(appConfig,{fid:installationEntry.fid,registrationStatus:0})];case 5:_a.sent(),_a.label=6;case 6:throw e_1;case 7:return[2]}}))}))}(appConfig,inProgressEntry);return{installationEntry:inProgressEntry,registrationPromise:registrationPromise}}return 1===installationEntry.registrationStatus?{installationEntry:installationEntry,registrationPromise:waitUntilFidRegistration(appConfig)}:{installationEntry:installationEntry}}(appConfig,installationEntry);return registrationPromise=entryWithPromise.registrationPromise,entryWithPromise.installationEntry}))];case 1:return(installationEntry=_b.sent()).fid!==INVALID_FID?[3,3]:(_a={},[4,registrationPromise]);case 2:return[2,(_a.installationEntry=_b.sent(),_a)];case 3:return[2,{installationEntry:installationEntry,registrationPromise:registrationPromise}]}}))}))}function waitUntilFidRegistration(appConfig){return __awaiter(this,void 0,void 0,(function(){var entry,_a,installationEntry,registrationPromise;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,updateInstallationRequest(appConfig)];case 1:entry=_b.sent(),_b.label=2;case 2:return 1!==entry.registrationStatus?[3,5]:[4,sleep(100)];case 3:return _b.sent(),[4,updateInstallationRequest(appConfig)];case 4:return entry=_b.sent(),[3,2];case 5:return 0!==entry.registrationStatus?[3,7]:[4,getInstallationEntry(appConfig)];case 6:return _a=_b.sent(),installationEntry=_a.installationEntry,(registrationPromise=_a.registrationPromise)?[2,registrationPromise]:[2,installationEntry];case 7:return[2,entry]}}))}))}function updateInstallationRequest(appConfig){return update(appConfig,(function(oldEntry){if(!oldEntry)throw ERROR_FACTORY.create("installation-not-found");return clearTimedOutRequest(oldEntry)}))}function clearTimedOutRequest(entry){return 1===(installationEntry=entry).registrationStatus&&installationEntry.registrationTime+PENDING_TIMEOUT_MS<Date.now()?{fid:entry.fid,registrationStatus:0}:entry;var installationEntry}function generateAuthTokenRequest(_a,installationEntry){var appConfig=_a.appConfig,platformLoggerProvider=_a.platformLoggerProvider;return __awaiter(this,void 0,void 0,(function(){var endpoint,headers,platformLogger,body,request,response,responseValue;return __generator(this,(function(_b){switch(_b.label){case 0:return endpoint=function(appConfig,_a){var fid=_a.fid;return getInstallationsEndpoint(appConfig)+"/"+fid+"/authTokens:generate"}(appConfig,installationEntry),headers=getHeadersWithAuth(appConfig,installationEntry),(platformLogger=platformLoggerProvider.getImmediate({optional:!0}))&&headers.append("x-firebase-client",platformLogger.getPlatformInfoString()),body={installation:{sdkVersion:PACKAGE_VERSION}},request={method:"POST",headers:headers,body:JSON.stringify(body)},[4,retryIfServerError((function(){return fetch(endpoint,request)}))];case 1:return(response=_b.sent()).ok?[4,response.json()]:[3,3];case 2:return responseValue=_b.sent(),[2,extractAuthTokenInfoFromResponse(responseValue)];case 3:return[4,getErrorFromResponse("Generate Auth Token",response)];case 4:throw _b.sent()}}))}))}function refreshAuthToken(dependencies,forceRefresh){return void 0===forceRefresh&&(forceRefresh=!1),__awaiter(this,void 0,void 0,(function(){var tokenPromise,entry,_a;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,update(dependencies.appConfig,(function(oldEntry){if(!isEntryRegistered(oldEntry))throw ERROR_FACTORY.create("not-registered");var oldAuthToken=oldEntry.authToken;if(!forceRefresh&&function(authToken){return 2===authToken.requestStatus&&!function(authToken){var now=Date.now();return now<authToken.creationTime||authToken.creationTime+authToken.expiresIn<now+TOKEN_EXPIRATION_BUFFER}(authToken)}(oldAuthToken))return oldEntry;if(1===oldAuthToken.requestStatus)return tokenPromise=function(dependencies,forceRefresh){return __awaiter(this,void 0,void 0,(function(){var entry,authToken;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,updateAuthTokenRequest(dependencies.appConfig)];case 1:entry=_a.sent(),_a.label=2;case 2:return 1!==entry.authToken.requestStatus?[3,5]:[4,sleep(100)];case 3:return _a.sent(),[4,updateAuthTokenRequest(dependencies.appConfig)];case 4:return entry=_a.sent(),[3,2];case 5:return 0===(authToken=entry.authToken).requestStatus?[2,refreshAuthToken(dependencies,forceRefresh)]:[2,authToken]}}))}))}(dependencies,forceRefresh),oldEntry;if(!navigator.onLine)throw ERROR_FACTORY.create("app-offline");var inProgressEntry=function(oldEntry){var inProgressAuthToken={requestStatus:1,requestTime:Date.now()};return __assign(__assign({},oldEntry),{authToken:inProgressAuthToken})}(oldEntry);return tokenPromise=function(dependencies,installationEntry){return __awaiter(this,void 0,void 0,(function(){var authToken,e_1,updatedInstallationEntry;return __generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,8]),[4,generateAuthTokenRequest(dependencies,installationEntry)];case 1:return authToken=_a.sent(),updatedInstallationEntry=__assign(__assign({},installationEntry),{authToken:authToken}),[4,set(dependencies.appConfig,updatedInstallationEntry)];case 2:return _a.sent(),[2,authToken];case 3:return!isServerError(e_1=_a.sent())||401!==e_1.serverCode&&404!==e_1.serverCode?[3,5]:[4,remove(dependencies.appConfig)];case 4:return _a.sent(),[3,7];case 5:return updatedInstallationEntry=__assign(__assign({},installationEntry),{authToken:{requestStatus:0}}),[4,set(dependencies.appConfig,updatedInstallationEntry)];case 6:_a.sent(),_a.label=7;case 7:throw e_1;case 8:return[2]}}))}))}(dependencies,inProgressEntry),inProgressEntry}))];case 1:return entry=_b.sent(),tokenPromise?[4,tokenPromise]:[3,3];case 2:return _a=_b.sent(),[3,4];case 3:_a=entry.authToken,_b.label=4;case 4:return[2,_a]}}))}))}function updateAuthTokenRequest(appConfig){return update(appConfig,(function(oldEntry){if(!isEntryRegistered(oldEntry))throw ERROR_FACTORY.create("not-registered");var authToken,oldAuthToken=oldEntry.authToken;return 1===(authToken=oldAuthToken).requestStatus&&authToken.requestTime+PENDING_TIMEOUT_MS<Date.now()?__assign(__assign({},oldEntry),{authToken:{requestStatus:0}}):oldEntry}))}function isEntryRegistered(installationEntry){return void 0!==installationEntry&&2===installationEntry.registrationStatus}function completeInstallationRegistration(appConfig){return __awaiter(this,void 0,void 0,(function(){var registrationPromise;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,getInstallationEntry(appConfig)];case 1:return(registrationPromise=_a.sent().registrationPromise)?[4,registrationPromise]:[3,3];case 2:_a.sent(),_a.label=3;case 3:return[2]}}))}))}function deleteInstallationRequest(appConfig,installationEntry){return __awaiter(this,void 0,void 0,(function(){var endpoint,headers,request,response;return __generator(this,(function(_a){switch(_a.label){case 0:return endpoint=function(appConfig,_a){var fid=_a.fid;return getInstallationsEndpoint(appConfig)+"/"+fid}(appConfig,installationEntry),headers=getHeadersWithAuth(appConfig,installationEntry),request={method:"DELETE",headers:headers},[4,retryIfServerError((function(){return fetch(endpoint,request)}))];case 1:return(response=_a.sent()).ok?[3,3]:[4,getErrorFromResponse("Delete Installation",response)];case 2:throw _a.sent();case 3:return[2]}}))}))}function onIdChange(_a,callback){var appConfig=_a.appConfig;return function(appConfig,callback){getBroadcastChannel();var key=getKey(appConfig),callbackSet=fidChangeCallbacks.get(key);callbackSet||(callbackSet=new Set,fidChangeCallbacks.set(key,callbackSet)),callbackSet.add(callback)}(appConfig,callback),function(){!function(appConfig,callback){var key=getKey(appConfig),callbackSet=fidChangeCallbacks.get(key);callbackSet&&(callbackSet.delete(callback),0===callbackSet.size&&fidChangeCallbacks.delete(key),closeBroadcastChannel())}(appConfig,callback)}}function getMissingValueError(valueName){return ERROR_FACTORY.create("missing-app-config-values",{valueName:valueName})}(instance=index_cjs_default.a).INTERNAL.registerComponent(new dist_index_cjs.Component("installations",(function(container){var app=container.getProvider("app").getImmediate(),appConfig=function(app){var e_1,_a;if(!app||!app.options)throw getMissingValueError("App Configuration");if(!app.name)throw getMissingValueError("App Name");try{for(var configKeys_1=__values(["projectId","apiKey","appId"]),configKeys_1_1=configKeys_1.next();!configKeys_1_1.done;configKeys_1_1=configKeys_1.next()){var keyName=configKeys_1_1.value;if(!app.options[keyName])throw getMissingValueError(keyName)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{configKeys_1_1&&!configKeys_1_1.done&&(_a=configKeys_1.return)&&_a.call(configKeys_1)}finally{if(e_1)throw e_1.error}}return{appName:app.name,projectId:app.options.projectId,apiKey:app.options.apiKey,appId:app.options.appId}}(app),dependencies={appConfig:appConfig,platformLoggerProvider:container.getProvider("platform-logger")},installations={app:app,getId:function(){return function(dependencies){return __awaiter(this,void 0,void 0,(function(){var _a,installationEntry,registrationPromise;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,getInstallationEntry(dependencies.appConfig)];case 1:return _a=_b.sent(),installationEntry=_a.installationEntry,(registrationPromise=_a.registrationPromise)?registrationPromise.catch(console.error):refreshAuthToken(dependencies).catch(console.error),[2,installationEntry.fid]}}))}))}(dependencies)},getToken:function(forceRefresh){return function(dependencies,forceRefresh){return void 0===forceRefresh&&(forceRefresh=!1),__awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,completeInstallationRegistration(dependencies.appConfig)];case 1:return _a.sent(),[4,refreshAuthToken(dependencies,forceRefresh)];case 2:return[2,_a.sent().token]}}))}))}(dependencies,forceRefresh)},delete:function(){return function(dependencies){return __awaiter(this,void 0,void 0,(function(){var appConfig,entry;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,update(appConfig=dependencies.appConfig,(function(oldEntry){if(!oldEntry||0!==oldEntry.registrationStatus)return oldEntry}))];case 1:if(!(entry=_a.sent()))return[3,6];if(1!==entry.registrationStatus)return[3,2];throw ERROR_FACTORY.create("delete-pending-registration");case 2:if(2!==entry.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw ERROR_FACTORY.create("app-offline");case 3:return[4,deleteInstallationRequest(appConfig,entry)];case 4:return _a.sent(),[4,remove(appConfig)];case 5:_a.sent(),_a.label=6;case 6:return[2]}}))}))}(dependencies)},onIdChange:function(callback){return onIdChange(dependencies,callback)}};return installations}),"PUBLIC")),instance.registerVersion("@firebase/installations","0.4.17");var dist_index_esm_a,tslib_es6_assign=function(){return tslib_es6_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},tslib_es6_assign.apply(this,arguments)};function tslib_es6_awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function tslib_es6_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function tslib_es6_values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function tslib_es6_read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}var MessageType,ERROR_MAP=((dist_index_esm_a={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dist_index_esm_a["only-available-in-window"]="This method is available in a Window context.",dist_index_esm_a["only-available-in-sw"]="This method is available in a service worker context.",dist_index_esm_a["permission-default"]="The notification permission was not granted and dismissed instead.",dist_index_esm_a["permission-blocked"]="The notification permission was not granted and blocked instead.",dist_index_esm_a["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dist_index_esm_a["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dist_index_esm_a["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dist_index_esm_a["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dist_index_esm_a["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dist_index_esm_a["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dist_index_esm_a["token-update-no-token"]="FCM returned no token when updating the user to push.",dist_index_esm_a["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dist_index_esm_a["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dist_index_esm_a["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dist_index_esm_a["invalid-vapid-key"]="The public VAPID key must be a string.",dist_index_esm_a["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",dist_index_esm_a),index_esm_ERROR_FACTORY=new util_dist_index_cjs.ErrorFactory("messaging","Messaging",ERROR_MAP),DEFAULT_VAPID_KEY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT="https://fcmregistrations.googleapis.com/v1",CONSOLE_CAMPAIGN_ID="google.c.a.c_id";function arrayToBase64(array){var uint8Array=new Uint8Array(array),base64String=btoa(String.fromCharCode.apply(String,function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(tslib_es6_read(arguments[i]));return ar}(uint8Array)));return base64String.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(base64String){for(var base64=(base64String+"=".repeat((4-base64String.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),rawData=atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray}!function(MessageType){MessageType.PUSH_RECEIVED="push-received",MessageType.NOTIFICATION_CLICKED="notification-clicked"}(MessageType||(MessageType={}));var OLD_DB_NAME="fcm_token_details_db",OLD_DB_VERSION=5,OLD_OBJECT_STORE_NAME="fcm_token_object_Store";function migrateOldDatabase(senderId){return tslib_es6_awaiter(this,void 0,void 0,(function(){var databases,dbNames,tokenDetails,_this=this;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(databases=_a.sent(),dbNames=databases.map((function(db){return db.name})),!dbNames.includes(OLD_DB_NAME))return[2,null];_a.label=2;case 2:return tokenDetails=null,[4,Object(idb.openDb)(OLD_DB_NAME,OLD_DB_VERSION,(function(db){return tslib_es6_awaiter(_this,void 0,void 0,(function(){var objectStore,value,oldDetails,_a;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return db.oldVersion<2?[2]:db.objectStoreNames.contains(OLD_OBJECT_STORE_NAME)?[4,(objectStore=db.transaction.objectStore(OLD_OBJECT_STORE_NAME)).index("fcmSenderId").get(senderId)]:[2];case 1:return value=_b.sent(),[4,objectStore.clear()];case 2:if(_b.sent(),!value)return[2];if(2===db.oldVersion){if(!(oldDetails=value).auth||!oldDetails.p256dh||!oldDetails.endpoint)return[2];tokenDetails={token:oldDetails.fcmToken,createTime:null!==(_a=oldDetails.createTime)&&void 0!==_a?_a:Date.now(),subscriptionOptions:{auth:oldDetails.auth,p256dh:oldDetails.p256dh,endpoint:oldDetails.endpoint,swScope:oldDetails.swScope,vapidKey:"string"==typeof oldDetails.vapidKey?oldDetails.vapidKey:arrayToBase64(oldDetails.vapidKey)}}}else(3===db.oldVersion||4===db.oldVersion)&&(tokenDetails={token:(oldDetails=value).fcmToken,createTime:oldDetails.createTime,subscriptionOptions:{auth:arrayToBase64(oldDetails.auth),p256dh:arrayToBase64(oldDetails.p256dh),endpoint:oldDetails.endpoint,swScope:oldDetails.swScope,vapidKey:arrayToBase64(oldDetails.vapidKey)}});return[2]}}))}))}))];case 3:return _a.sent().close(),[4,Object(idb.deleteDb)(OLD_DB_NAME)];case 4:return _a.sent(),[4,Object(idb.deleteDb)("fcm_vapid_details_db")];case 5:return _a.sent(),[4,Object(idb.deleteDb)("undefined")];case 6:return _a.sent(),[2,checkTokenDetails(tokenDetails)?tokenDetails:null]}}))}))}function checkTokenDetails(tokenDetails){if(!tokenDetails||!tokenDetails.subscriptionOptions)return!1;var subscriptionOptions=tokenDetails.subscriptionOptions;return"number"==typeof tokenDetails.createTime&&tokenDetails.createTime>0&&"string"==typeof tokenDetails.token&&tokenDetails.token.length>0&&"string"==typeof subscriptionOptions.auth&&subscriptionOptions.auth.length>0&&"string"==typeof subscriptionOptions.p256dh&&subscriptionOptions.p256dh.length>0&&"string"==typeof subscriptionOptions.endpoint&&subscriptionOptions.endpoint.length>0&&"string"==typeof subscriptionOptions.swScope&&subscriptionOptions.swScope.length>0&&"string"==typeof subscriptionOptions.vapidKey&&subscriptionOptions.vapidKey.length>0}var index_esm_DATABASE_NAME="firebase-messaging-database",index_esm_DATABASE_VERSION=1,index_esm_OBJECT_STORE_NAME="firebase-messaging-store",index_esm_dbPromise=null;function index_esm_getDbPromise(){return index_esm_dbPromise||(index_esm_dbPromise=Object(idb.openDb)(index_esm_DATABASE_NAME,index_esm_DATABASE_VERSION,(function(upgradeDb){if(0===upgradeDb.oldVersion)upgradeDb.createObjectStore(index_esm_OBJECT_STORE_NAME)}))),index_esm_dbPromise}function dbGet(firebaseDependencies){return tslib_es6_awaiter(this,void 0,void 0,(function(){var key,tokenDetails,oldTokenDetails;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return key=index_esm_getKey(firebaseDependencies),[4,index_esm_getDbPromise()];case 1:return[4,_a.sent().transaction(index_esm_OBJECT_STORE_NAME).objectStore(index_esm_OBJECT_STORE_NAME).get(key)];case 2:return(tokenDetails=_a.sent())?[2,tokenDetails]:[3,3];case 3:return[4,migrateOldDatabase(firebaseDependencies.appConfig.senderId)];case 4:return(oldTokenDetails=_a.sent())?[4,dbSet(firebaseDependencies,oldTokenDetails)]:[3,6];case 5:return _a.sent(),[2,oldTokenDetails];case 6:return[2]}}))}))}function dbSet(firebaseDependencies,tokenDetails){return tslib_es6_awaiter(this,void 0,void 0,(function(){var key,db,tx;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return key=index_esm_getKey(firebaseDependencies),[4,index_esm_getDbPromise()];case 1:return db=_a.sent(),[4,(tx=db.transaction(index_esm_OBJECT_STORE_NAME,"readwrite")).objectStore(index_esm_OBJECT_STORE_NAME).put(tokenDetails,key)];case 2:return _a.sent(),[4,tx.complete];case 3:return _a.sent(),[2,tokenDetails]}}))}))}function dbRemove(firebaseDependencies){return tslib_es6_awaiter(this,void 0,void 0,(function(){var key,db,tx;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return key=index_esm_getKey(firebaseDependencies),[4,index_esm_getDbPromise()];case 1:return db=_a.sent(),[4,(tx=db.transaction(index_esm_OBJECT_STORE_NAME,"readwrite")).objectStore(index_esm_OBJECT_STORE_NAME).delete(key)];case 2:return _a.sent(),[4,tx.complete];case 3:return _a.sent(),[2]}}))}))}function index_esm_getKey(_a){return _a.appConfig.appId}function requestGetToken(firebaseDependencies,subscriptionOptions){return tslib_es6_awaiter(this,void 0,void 0,(function(){var headers,body,subscribeOptions,responseData,err_1,message;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,index_esm_getHeaders(firebaseDependencies)];case 1:headers=_a.sent(),body=getBody(subscriptionOptions),subscribeOptions={method:"POST",headers:headers,body:JSON.stringify(body)},_a.label=2;case 2:return _a.trys.push([2,5,,6]),[4,fetch(getEndpoint(firebaseDependencies.appConfig),subscribeOptions)];case 3:return[4,_a.sent().json()];case 4:return responseData=_a.sent(),[3,6];case 5:throw err_1=_a.sent(),index_esm_ERROR_FACTORY.create("token-subscribe-failed",{errorInfo:err_1});case 6:if(responseData.error)throw message=responseData.error.message,index_esm_ERROR_FACTORY.create("token-subscribe-failed",{errorInfo:message});if(!responseData.token)throw index_esm_ERROR_FACTORY.create("token-subscribe-no-token");return[2,responseData.token]}}))}))}function requestUpdateToken(firebaseDependencies,tokenDetails){return tslib_es6_awaiter(this,void 0,void 0,(function(){var headers,body,updateOptions,responseData,err_2,message;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,index_esm_getHeaders(firebaseDependencies)];case 1:headers=_a.sent(),body=getBody(tokenDetails.subscriptionOptions),updateOptions={method:"PATCH",headers:headers,body:JSON.stringify(body)},_a.label=2;case 2:return _a.trys.push([2,5,,6]),[4,fetch(getEndpoint(firebaseDependencies.appConfig)+"/"+tokenDetails.token,updateOptions)];case 3:return[4,_a.sent().json()];case 4:return responseData=_a.sent(),[3,6];case 5:throw err_2=_a.sent(),index_esm_ERROR_FACTORY.create("token-update-failed",{errorInfo:err_2});case 6:if(responseData.error)throw message=responseData.error.message,index_esm_ERROR_FACTORY.create("token-update-failed",{errorInfo:message});if(!responseData.token)throw index_esm_ERROR_FACTORY.create("token-update-no-token");return[2,responseData.token]}}))}))}function requestDeleteToken(firebaseDependencies,token){return tslib_es6_awaiter(this,void 0,void 0,(function(){var headers,unsubscribeOptions,responseData,message,err_3;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,index_esm_getHeaders(firebaseDependencies)];case 1:headers=_a.sent(),unsubscribeOptions={method:"DELETE",headers:headers},_a.label=2;case 2:return _a.trys.push([2,5,,6]),[4,fetch(getEndpoint(firebaseDependencies.appConfig)+"/"+token,unsubscribeOptions)];case 3:return[4,_a.sent().json()];case 4:if((responseData=_a.sent()).error)throw message=responseData.error.message,index_esm_ERROR_FACTORY.create("token-unsubscribe-failed",{errorInfo:message});return[3,6];case 5:throw err_3=_a.sent(),index_esm_ERROR_FACTORY.create("token-unsubscribe-failed",{errorInfo:err_3});case 6:return[2]}}))}))}function getEndpoint(_a){var projectId=_a.projectId;return ENDPOINT+"/projects/"+projectId+"/registrations"}function index_esm_getHeaders(_a){var appConfig=_a.appConfig,installations=_a.installations;return tslib_es6_awaiter(this,void 0,void 0,(function(){var authToken;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return[4,installations.getToken()];case 1:return authToken=_b.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":appConfig.apiKey,"x-goog-firebase-installations-auth":"FIS "+authToken})]}}))}))}function getBody(_a){var p256dh=_a.p256dh,auth=_a.auth,endpoint=_a.endpoint,vapidKey=_a.vapidKey,body={web:{endpoint:endpoint,auth:auth,p256dh:p256dh}};return vapidKey!==DEFAULT_VAPID_KEY&&(body.web.applicationPubKey=vapidKey),body}function index_esm_getToken(firebaseDependencies,swRegistration,vapidKey){return tslib_es6_awaiter(this,void 0,void 0,(function(){var pushSubscription,tokenDetails,subscriptionOptions;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:if("granted"!==Notification.permission)throw index_esm_ERROR_FACTORY.create("permission-blocked");return[4,getPushSubscription(swRegistration,vapidKey)];case 1:return pushSubscription=_a.sent(),[4,dbGet(firebaseDependencies)];case 2:return tokenDetails=_a.sent(),subscriptionOptions={vapidKey:vapidKey,swScope:swRegistration.scope,endpoint:pushSubscription.endpoint,auth:arrayToBase64(pushSubscription.getKey("auth")),p256dh:arrayToBase64(pushSubscription.getKey("p256dh"))},tokenDetails?[3,3]:[2,getNewToken(firebaseDependencies,subscriptionOptions)];case 3:if(dbOptions=tokenDetails.subscriptionOptions,isVapidKeyEqual=(currentOptions=subscriptionOptions).vapidKey===dbOptions.vapidKey,isEndpointEqual=currentOptions.endpoint===dbOptions.endpoint,isAuthEqual=currentOptions.auth===dbOptions.auth,isP256dhEqual=currentOptions.p256dh===dbOptions.p256dh,isVapidKeyEqual&&isEndpointEqual&&isAuthEqual&&isP256dhEqual)return[3,8];_a.label=4;case 4:return _a.trys.push([4,6,,7]),[4,requestDeleteToken(firebaseDependencies,tokenDetails.token)];case 5:return _a.sent(),[3,7];case 6:return _a.sent(),[3,7];case 7:return[2,getNewToken(firebaseDependencies,subscriptionOptions)];case 8:return Date.now()>=tokenDetails.createTime+6048e5?[2,updateToken({token:tokenDetails.token,createTime:Date.now(),subscriptionOptions:subscriptionOptions},firebaseDependencies,swRegistration)]:[2,tokenDetails.token];case 9:return[2]}var dbOptions,currentOptions,isVapidKeyEqual,isEndpointEqual,isAuthEqual,isP256dhEqual}))}))}function deleteToken(firebaseDependencies,swRegistration){return tslib_es6_awaiter(this,void 0,void 0,(function(){var tokenDetails,pushSubscription;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,dbGet(firebaseDependencies)];case 1:return(tokenDetails=_a.sent())?[4,requestDeleteToken(firebaseDependencies,tokenDetails.token)]:[3,4];case 2:return _a.sent(),[4,dbRemove(firebaseDependencies)];case 3:_a.sent(),_a.label=4;case 4:return[4,swRegistration.pushManager.getSubscription()];case 5:return(pushSubscription=_a.sent())?[2,pushSubscription.unsubscribe()]:[2,!0]}}))}))}function updateToken(tokenDetails,firebaseDependencies,swRegistration){return tslib_es6_awaiter(this,void 0,void 0,(function(){var updatedToken,updatedTokenDetails,e_2;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,5]),[4,requestUpdateToken(firebaseDependencies,tokenDetails)];case 1:return updatedToken=_a.sent(),updatedTokenDetails=tslib_es6_assign(tslib_es6_assign({},tokenDetails),{token:updatedToken,createTime:Date.now()}),[4,dbSet(firebaseDependencies,updatedTokenDetails)];case 2:return _a.sent(),[2,updatedToken];case 3:return e_2=_a.sent(),[4,deleteToken(firebaseDependencies,swRegistration)];case 4:throw _a.sent(),e_2;case 5:return[2]}}))}))}function getNewToken(firebaseDependencies,subscriptionOptions){return tslib_es6_awaiter(this,void 0,void 0,(function(){var token,tokenDetails;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,requestGetToken(firebaseDependencies,subscriptionOptions)];case 1:return token=_a.sent(),tokenDetails={token:token,createTime:Date.now(),subscriptionOptions:subscriptionOptions},[4,dbSet(firebaseDependencies,tokenDetails)];case 2:return _a.sent(),[2,tokenDetails.token]}}))}))}function getPushSubscription(swRegistration,vapidKey){return tslib_es6_awaiter(this,void 0,void 0,(function(){var subscription;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,swRegistration.pushManager.getSubscription()];case 1:return(subscription=_a.sent())?[2,subscription]:[2,swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(vapidKey)})]}}))}))}function isConsoleMessage(data){return"object"==typeof data&&!!data&&CONSOLE_CAMPAIGN_ID in data}var index_esm_SwController=function(){function SwController(firebaseDependencies){var _this=this;this.firebaseDependencies=firebaseDependencies,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(_this.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(_this.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(_this.onNotificationClick(e))}))}return Object.defineProperty(SwController.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),SwController.prototype.setBackgroundMessageHandler=function(callback){if(this.isOnBackgroundMessageUsed=!1,!callback||"function"!=typeof callback)throw index_esm_ERROR_FACTORY.create("invalid-bg-handler");this.bgMessageHandler=callback},SwController.prototype.onBackgroundMessage=function(nextOrObserver){var _this=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=nextOrObserver,function(){_this.bgMessageHandler=null}},SwController.prototype.getToken=function(){var _a,_b;return tslib_es6_awaiter(this,void 0,void 0,(function(){var tokenDetails;return tslib_es6_generator(this,(function(_c){switch(_c.label){case 0:return this.vapidKey?[3,2]:[4,dbGet(this.firebaseDependencies)];case 1:tokenDetails=_c.sent(),this.vapidKey=null!==(_b=null===(_a=null==tokenDetails?void 0:tokenDetails.subscriptionOptions)||void 0===_a?void 0:_a.vapidKey)&&void 0!==_b?_b:DEFAULT_VAPID_KEY,_c.label=2;case 2:return[2,index_esm_getToken(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},SwController.prototype.deleteToken=function(){return deleteToken(this.firebaseDependencies,self.registration)},SwController.prototype.requestPermission=function(){throw index_esm_ERROR_FACTORY.create("only-available-in-window")},SwController.prototype.usePublicVapidKey=function(vapidKey){if(null!==this.vapidKey)throw index_esm_ERROR_FACTORY.create("use-vapid-key-after-get-token");if("string"!=typeof vapidKey||0===vapidKey.length)throw index_esm_ERROR_FACTORY.create("invalid-vapid-key");this.vapidKey=vapidKey},SwController.prototype.useServiceWorker=function(){throw index_esm_ERROR_FACTORY.create("only-available-in-window")},SwController.prototype.onMessage=function(){throw index_esm_ERROR_FACTORY.create("only-available-in-window")},SwController.prototype.onTokenRefresh=function(){throw index_esm_ERROR_FACTORY.create("only-available-in-window")},SwController.prototype.onPush=function(event){return tslib_es6_awaiter(this,void 0,void 0,(function(){var internalPayload,clientList,isNotificationShown,payload;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return internalPayload=function(_a){var data=_a.data;if(!data)return null;try{return data.json()}catch(err){return null}}(event),internalPayload?[4,getClientList()]:[2];case 1:return function(clientList){return clientList.some((function(client){return"visible"===client.visibilityState&&!client.url.startsWith("chrome-extension://")}))}(clientList=_a.sent())?[2,sendMessagePayloadInternalToWindows(clientList,internalPayload)]:(isNotificationShown=!1,internalPayload.notification?[4,showNotification(wrapInternalPayload(internalPayload))]:[3,3]);case 2:_a.sent(),isNotificationShown=!0,_a.label=3;case 3:return!0===isNotificationShown&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(payload=function(internalPayload){var payload={from:internalPayload.from,collapseKey:internalPayload.collapse_key};return function(payload,messagePayloadInternal){if(messagePayloadInternal.notification){payload.notification={};var title=messagePayloadInternal.notification.title;title&&(payload.notification.title=title);var body=messagePayloadInternal.notification.body;body&&(payload.notification.body=body);var image=messagePayloadInternal.notification.image;image&&(payload.notification.image=image)}}(payload,internalPayload),function(payload,messagePayloadInternal){messagePayloadInternal.data&&(payload.data=messagePayloadInternal.data)}(payload,internalPayload),function(payload,messagePayloadInternal){if(messagePayloadInternal.fcmOptions){payload.fcmOptions={};var link=messagePayloadInternal.fcmOptions.link;link&&(payload.fcmOptions.link=link);var analyticsLabel=messagePayloadInternal.fcmOptions.analytics_label;analyticsLabel&&(payload.fcmOptions.analyticsLabel=analyticsLabel)}}(payload,internalPayload),payload}(internalPayload),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(payload):this.bgMessageHandler.next(payload)),[2]}}))}))},SwController.prototype.onSubChange=function(event){var _a,_b;return tslib_es6_awaiter(this,void 0,void 0,(function(){var tokenDetails;return tslib_es6_generator(this,(function(_c){switch(_c.label){case 0:return event.newSubscription?[3,2]:[4,deleteToken(this.firebaseDependencies,self.registration)];case 1:case 5:return _c.sent(),[2];case 2:return[4,dbGet(this.firebaseDependencies)];case 3:return tokenDetails=_c.sent(),[4,deleteToken(this.firebaseDependencies,self.registration)];case 4:return _c.sent(),[4,index_esm_getToken(this.firebaseDependencies,self.registration,null!==(_b=null===(_a=null==tokenDetails?void 0:tokenDetails.subscriptionOptions)||void 0===_a?void 0:_a.vapidKey)&&void 0!==_b?_b:DEFAULT_VAPID_KEY)]}}))}))},SwController.prototype.onNotificationClick=function(event){var _a,_b;return tslib_es6_awaiter(this,void 0,void 0,(function(){var internalPayload,link,url,originUrl,client;return tslib_es6_generator(this,(function(_c){switch(_c.label){case 0:return(internalPayload=null===(_b=null===(_a=event.notification)||void 0===_a?void 0:_a.data)||void 0===_b?void 0:_b.FCM_MSG)?event.action?[2]:(event.stopImmediatePropagation(),event.notification.close(),link=function(payload){var _a,_b,_c,link=null!==(_b=null===(_a=payload.fcmOptions)||void 0===_a?void 0:_a.link)&&void 0!==_b?_b:null===(_c=payload.notification)||void 0===_c?void 0:_c.click_action;if(link)return link;return isConsoleMessage(payload.data)?self.location.origin:null}(internalPayload),link?(url=new URL(link,self.location.href),originUrl=new URL(self.location.origin),url.host!==originUrl.host?[2]:[4,getWindowClient(url)]):[2]):[2];case 1:return(client=_c.sent())?[3,4]:[4,self.clients.openWindow(link)];case 2:return client=_c.sent(),[4,(ms=3e3,new Promise((function(resolve){setTimeout(resolve,ms)})))];case 3:return _c.sent(),[3,6];case 4:return[4,client.focus()];case 5:client=_c.sent(),_c.label=6;case 6:return client?(internalPayload.messageType=MessageType.NOTIFICATION_CLICKED,internalPayload.isFirebaseMessaging=!0,[2,client.postMessage(internalPayload)]):[2]}var ms}))}))},SwController}();function wrapInternalPayload(internalPayload){var _a,wrappedInternalPayload=tslib_es6_assign({},internalPayload.notification);return wrappedInternalPayload.data=((_a={}).FCM_MSG=internalPayload,_a),wrappedInternalPayload}function getWindowClient(url){return tslib_es6_awaiter(this,void 0,void 0,(function(){var clientList,clientList_1,clientList_1_1,client,clientUrl,e_1,_a;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return[4,getClientList()];case 1:clientList=_b.sent();try{for(clientList_1=tslib_es6_values(clientList),clientList_1_1=clientList_1.next();!clientList_1_1.done;clientList_1_1=clientList_1.next())if(client=clientList_1_1.value,clientUrl=new URL(client.url,self.location.href),url.host===clientUrl.host)return[2,client]}catch(e_1_1){e_1={error:e_1_1}}finally{try{clientList_1_1&&!clientList_1_1.done&&(_a=clientList_1.return)&&_a.call(clientList_1)}finally{if(e_1)throw e_1.error}}return[2,null]}}))}))}function sendMessagePayloadInternalToWindows(clientList,internalPayload){var e_2,_a;internalPayload.isFirebaseMessaging=!0,internalPayload.messageType=MessageType.PUSH_RECEIVED;try{for(var clientList_2=tslib_es6_values(clientList),clientList_2_1=clientList_2.next();!clientList_2_1.done;clientList_2_1=clientList_2.next()){clientList_2_1.value.postMessage(internalPayload)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{clientList_2_1&&!clientList_2_1.done&&(_a=clientList_2.return)&&_a.call(clientList_2)}finally{if(e_2)throw e_2.error}}}function getClientList(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function showNotification(notificationPayloadInternal){var _a,actions=notificationPayloadInternal.actions,maxActions=Notification.maxActions;return actions&&maxActions&&actions.length,self.registration.showNotification(null!==(_a=notificationPayloadInternal.title)&&void 0!==_a?_a:"",notificationPayloadInternal)}var index_esm_WindowController=function(){function WindowController(firebaseDependencies){var _this=this;this.firebaseDependencies=firebaseDependencies,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return _this.messageEventListener(e)}))}return Object.defineProperty(WindowController.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),WindowController.prototype.messageEventListener=function(event){return tslib_es6_awaiter(this,void 0,void 0,(function(){var internalPayload,dataPayload;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return(internalPayload=event.data).isFirebaseMessaging?(this.onMessageCallback&&internalPayload.messageType===MessageType.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(internalPayload){return delete internalPayload.messageType,delete internalPayload.isFirebaseMessaging,internalPayload}(Object.assign({},internalPayload))):this.onMessageCallback.next(Object.assign({},internalPayload))),isConsoleMessage(dataPayload=internalPayload.data)&&"1"===dataPayload["google.c.a.e"]?[4,this.logEvent(internalPayload.messageType,dataPayload)]:[3,2]):[2];case 1:_a.sent(),_a.label=2;case 2:return[2]}}))}))},WindowController.prototype.getVapidKey=function(){return this.vapidKey},WindowController.prototype.getSwReg=function(){return this.swRegistration},WindowController.prototype.getToken=function(options){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:_a.sent(),_a.label=2;case 2:if("granted"!==Notification.permission)throw index_esm_ERROR_FACTORY.create("permission-blocked");return[4,this.updateVapidKey(null==options?void 0:options.vapidKey)];case 3:return _a.sent(),[4,this.updateSwReg(null==options?void 0:options.serviceWorkerRegistration)];case 4:return _a.sent(),[2,index_esm_getToken(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},WindowController.prototype.updateVapidKey=function(vapidKey){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){return vapidKey?this.vapidKey=vapidKey:this.vapidKey||(this.vapidKey=DEFAULT_VAPID_KEY),[2]}))}))},WindowController.prototype.updateSwReg=function(swRegistration){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return swRegistration||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:_a.sent(),_a.label=2;case 2:if(!swRegistration&&this.swRegistration)return[2];if(!(swRegistration instanceof ServiceWorkerRegistration))throw index_esm_ERROR_FACTORY.create("invalid-sw-registration");return this.swRegistration=swRegistration,[2]}}))}))},WindowController.prototype.registerDefaultSw=function(){return tslib_es6_awaiter(this,void 0,void 0,(function(){var _a,e_1;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),_a=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return _a.swRegistration=_b.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e_1=_b.sent(),index_esm_ERROR_FACTORY.create("failed-service-worker-registration",{browserErrorMessage:e_1.message});case 3:return[2]}}))}))},WindowController.prototype.deleteToken=function(){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:_a.sent(),_a.label=2;case 2:return[2,deleteToken(this.firebaseDependencies,this.swRegistration)]}}))}))},WindowController.prototype.requestPermission=function(){return tslib_es6_awaiter(this,void 0,void 0,(function(){var permissionResult;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(permissionResult=_a.sent()))return[2];throw"denied"===permissionResult?index_esm_ERROR_FACTORY.create("permission-blocked"):index_esm_ERROR_FACTORY.create("permission-default")}}))}))},WindowController.prototype.usePublicVapidKey=function(vapidKey){if(null!==this.vapidKey)throw index_esm_ERROR_FACTORY.create("use-vapid-key-after-get-token");if("string"!=typeof vapidKey||0===vapidKey.length)throw index_esm_ERROR_FACTORY.create("invalid-vapid-key");this.vapidKey=vapidKey},WindowController.prototype.useServiceWorker=function(swRegistration){if(!(swRegistration instanceof ServiceWorkerRegistration))throw index_esm_ERROR_FACTORY.create("invalid-sw-registration");if(this.swRegistration)throw index_esm_ERROR_FACTORY.create("use-sw-after-get-token");this.swRegistration=swRegistration},WindowController.prototype.onMessage=function(nextOrObserver){var _this=this;return this.onMessageCallback=nextOrObserver,function(){_this.onMessageCallback=null}},WindowController.prototype.setBackgroundMessageHandler=function(){throw index_esm_ERROR_FACTORY.create("only-available-in-sw")},WindowController.prototype.onBackgroundMessage=function(){throw index_esm_ERROR_FACTORY.create("only-available-in-sw")},WindowController.prototype.onTokenRefresh=function(){return function(){}},WindowController.prototype.logEvent=function(messageType,data){return tslib_es6_awaiter(this,void 0,void 0,(function(){var eventType;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return eventType=function(messageType){switch(messageType){case MessageType.NOTIFICATION_CLICKED:return"notification_open";case MessageType.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(messageType),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return _a.sent().logEvent(eventType,{message_id:data[CONSOLE_CAMPAIGN_ID],message_name:data["google.c.a.c_l"],message_time:data["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},WindowController}();function index_esm_getMissingValueError(valueName){return index_esm_ERROR_FACTORY.create("missing-app-config-values",{valueName:valueName})}var NAMESPACE_EXPORTS={isSupported:isSupported};function isSupported(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}index_cjs_default.a.INTERNAL.registerComponent(new dist_index_cjs.Component("messaging",(function(container){var app=container.getProvider("app").getImmediate(),appConfig=function(app){var e_1,_a;if(!app||!app.options)throw index_esm_getMissingValueError("App Configuration Object");if(!app.name)throw index_esm_getMissingValueError("App Name");var options=app.options;try{for(var configKeys_1=tslib_es6_values(["projectId","apiKey","appId","messagingSenderId"]),configKeys_1_1=configKeys_1.next();!configKeys_1_1.done;configKeys_1_1=configKeys_1.next()){var keyName=configKeys_1_1.value;if(!options[keyName])throw index_esm_getMissingValueError(keyName)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{configKeys_1_1&&!configKeys_1_1.done&&(_a=configKeys_1.return)&&_a.call(configKeys_1)}finally{if(e_1)throw e_1.error}}return{appName:app.name,projectId:options.projectId,apiKey:options.apiKey,appId:options.appId,senderId:options.messagingSenderId}}(app),firebaseDependencies={app:app,appConfig:appConfig,installations:container.getProvider("installations").getImmediate(),analyticsProvider:container.getProvider("analytics-internal")};if(!isSupported())throw index_esm_ERROR_FACTORY.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new index_esm_SwController(firebaseDependencies):new index_esm_WindowController(firebaseDependencies)}),"PUBLIC").setServiceProps(NAMESPACE_EXPORTS))}});