import{a as At}from"./chunk-BBEFKGGE.js";import{a as Je,b as Ze,c as at,d as Y,e as dt,f as mt,g as ut,h as ft,i as gt,j as yt,l as xt}from"./chunk-YCBOD6OT.js";import{a as pt,i as ht}from"./chunk-KZRHUEQK.js";import"./chunk-UM364UVK.js";import"./chunk-QM2KT3J6.js";import"./chunk-ESXKWKRD.js";import"./chunk-QZG7YQTK.js";import"./chunk-GJEKK5P5.js";import"./chunk-ZNZZRKNQ.js";import"./chunk-2WECCVZD.js";import"./chunk-L6RDTAJI.js";import"./chunk-2H2VIYTZ.js";import"./chunk-3SJSJEWV.js";import"./chunk-C46BLHWH.js";import"./chunk-VHCQKD7Y.js";import{a as ct}from"./chunk-EGECEZLM.js";import"./chunk-LCJF24CY.js";import"./chunk-7A6HLO4U.js";import{a as U}from"./chunk-T27XGMXK.js";import"./chunk-AUOG6CT3.js";import"./chunk-UMDV4H54.js";import"./chunk-XJWRT6N6.js";import{Q as nt,Ra as q,Sa as it,d as je,m as Ge}from"./chunk-GR6D4DPI.js";import"./chunk-NYONBW6F.js";import"./chunk-QBZHFUZ3.js";import"./chunk-CCUXU2GU.js";import"./chunk-BT2EXIW3.js";import"./chunk-6DOWJ64L.js";import"./chunk-Z6IB25YE.js";import"./chunk-QEXGR5WT.js";import"./chunk-YCCYNAY3.js";import"./chunk-NDHIYOGB.js";import"./chunk-X3ESGVCB.js";import"./chunk-Y3NV75FH.js";import{b as Re}from"./chunk-S24UABH5.js";import"./chunk-SHAEZV7V.js";import"./chunk-H4C3OTZW.js";import"./chunk-DERIAD33.js";import"./chunk-EGXLQXDH.js";import"./chunk-CCQRCL2K.js";import{d as tt,g as ot,j as rt}from"./chunk-I5YT3SXD.js";import"./chunk-TISYHGD5.js";import"./chunk-BRWGJFNS.js";import"./chunk-IVMV7P4T.js";import"./chunk-4RWQ6N5L.js";import"./chunk-JCHDEXQW.js";import{a as st,b as lt,c as Pt}from"./chunk-V4XIFWJA.js";import{b as bt}from"./chunk-BBDLE433.js";import"./chunk-P7NGDOTF.js";import"./chunk-HPOS2V3B.js";import"./chunk-XYJX6G2K.js";import{j as Oe,l as W}from"./chunk-3WUBIQFW.js";import{b as Se}from"./chunk-W27Z2YZM.js";import{V as Le,Y as Ie,d as Q,e as X,fa as He}from"./chunk-PCKXDRQ7.js";import"./chunk-H3FFS4GT.js";import"./chunk-NSMHSELH.js";import{a as vt}from"./chunk-YAPVCJS4.js";import{c as Ye}from"./chunk-YHY2IGPI.js";import"./chunk-PTZMRZUV.js";import{a as et}from"./chunk-VQVTLSDS.js";import{a as C,b as I}from"./chunk-OKP6DFCI.js";import{Z as Xe,a as Ve,b as O,c as De,d as $e,e as We,f as K,g as Ue,i as qe,l as Qe,o as P,wa as Ke}from"./chunk-WIQ4WVKX.js";import{a as Dt,c as _e}from"./chunk-TARETZSL.js";import{ca as Ee,eb as Ne}from"./chunk-LTUJMY6D.js";import"./chunk-UCBZOSRF.js";import"./chunk-PN7XAO7F.js";import"./chunk-TZKYPSN2.js";import"./chunk-36Y64SHT.js";import"./chunk-2MSBWT3V.js";import{e as $}from"./chunk-NM5XY6LY.js";import"./chunk-AKPGU3DO.js";import{a as Ce,d as L}from"./chunk-IS26EKBL.js";import{a as ke}from"./chunk-GQEPK4C4.js";import"./chunk-BTKBODVJ.js";import{f as ce}from"./chunk-KXAUXXVB.js";import{Cb as Me,Eb as Fe,Hb as ze,O as xe,P as Ae,Q as Be,W as we,X as Te}from"./chunk-TYXPKGSM.js";import"./chunk-WFPABEAU.js";import"./chunk-QWOVPA54.js";import{a as $t}from"./chunk-LDMZMUWY.js";import"./chunk-X2SBUKU4.js";import"./chunk-OXFZHPMY.js";import"./chunk-EDLKLLZ5.js";import"./chunk-OX7Q6J2U.js";import{Fd as ue,Md as fe,Na as le,Q as oe,T as re,Vd as ge,Wd as he,ae as ye,be,he as ve,ic as de,ie as Pe,tc as me,wc as pe}from"./chunk-MHD4HNLY.js";import{K as ne}from"./chunk-G3SOTMUM.js";import{m as _}from"./chunk-56SJOU6P.js";import{S as v}from"./chunk-6E74REJW.js";import"./chunk-N7UFQNLW.js";import{Za as G,aa as D,ja as ie,pa as ae,sa as se,z as te}from"./chunk-66TF6S77.js";import"./chunk-4P36KWOF.js";import{a as M}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as T,h as s,n as l}from"./chunk-3KENBVE7.js";s();l();var i=T(M()),Vt=T(Dt());s();l();var o=T(M());s();l();var y=T(M());var Bt=({expired:e})=>{let{t}=_(),[n,d]=(0,y.useState)(!1),{data:c=[]}=fe("seedless-seeds-only"),{handleShowModalVisibility:p}=q(),f=c.length>0,g=(0,y.useCallback)(()=>{p("seedlessVerifyPinPage")},[p]);(0,y.useEffect)(()=>{e&&d(!1)},[e]);let m=(0,y.useCallback)(()=>{d(!0)},[]),h=(0,y.useCallback)(()=>{d(!0),g()},[g]);return!f||!e||n?null:y.default.createElement(Q,{padding:"screen",position:"absolute",insetX:0,zIndex:10,className:nt.toastPosition},y.default.createElement(Le,{onClose:m,icon:"Info",actions:{children:t("seedlessVerifyPinVerifyButtonText"),onPress:h}},y.default.createElement(Q,{gap:8},y.default.createElement(X,{font:"captionSemibold",color:"bgWallet",children:t("seedlessVerifyToastPrimaryText")}),y.default.createElement(X,{font:"caption",color:"bgWallet",children:t("seedlessVerifyToastSecondaryText")}))))};s();l();s();l();s();l();s();l();s();l();async function wt(e){let t=await oe.api().headers({Accept:"application/json"}).get(`/alert/v1?locale=${e}`);if(!re(t))throw new Error("Failed to retrieve Solana network health");return t.data}function Tt(e,t){return ie({queryKey:["solana","health",{locale:e}],refetchInterval:60*2500,enabled:t,async queryFn(){return await wt(e)}})}function J(e,t){let{data:n}=Tt(e,t);return t?n:void 0}var u=T(M());s();l();var F=T(M());var Ct=(0,F.createContext)(null),kt=()=>{let e=(0,F.useContext)(Ct);if(!e)throw new Error("Missing banner context. Make sure you're wrapping your component in a <BannerProvider />");return e},St=({children:e})=>{let t=[],n=(m,h)=>{switch(h.type){case"create":return m.concat(h.payload);case"delete":return m.filter(({id:B})=>B!==h.payload.id);case"reset":return t;default:throw new Error("There was an error dispatching a banner action.")}},[d,c]=(0,F.useReducer)(n,t),p=m=>{let{type:h,variant:B,message:a,dismissable:b=!0,icon:S,autohide:A=!0,delay:z=5e3,onClick:V}=m;(!h||!B||!a)&&console.error("You must supply a type, variant and message when creating a Banner.");let H=ne();return c({type:"create",payload:{id:H,type:h,variant:B,message:a,dismissable:b,icon:S,autohide:A,delay:z,onClick:V}}),A&&setTimeout(()=>{f({id:H})},z),H},f=m=>c({type:"delete",payload:{id:m.id}}),g=()=>c({type:"reset"});return F.default.createElement(Ct.Provider,{value:{banners:d,createBanner:p,deleteBanner:f,resetBanners:g}},e)};var Mt=P.button`
  cursor: ${e=>e.onClick?"pointer":"default"};
  display: flex;
  align-items: center;
  vertical-align: middle;
  overflow: visible;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  background-color: transparent;
  width: 100%;
  padding: 10px 16px;

  svg {
    fill: #fff;
    margin-right: 8px;
  }
`,Wt=P(C.div)`
  position: relative;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: ${e=>{switch(e.variant){case"primary":return v("#AB9FF2",.7);case"success":return v("#21E56F",.7);case"warning":return v("#E5A221",.7);case"danger":return v("#EB3742",.7);default:return v("#E5A221",.7)}}};

  ${Mt} {
    &:focus-visible {
      border-color: ${e=>{switch(e.variant){case"primary":return v("#AB9FF2",.7);case"success":return v("#21E56F",.7);case"warning":return v("#E5A221",.7);case"danger":return v("#EB3742",.7);default:return v("#E5A221",.7)}}};
    }
  }
`,Ut=P.p`
  color: #ffffff;
  font-size: 14px;
  font-weight: 500;
  line-height: 19px;
  text-align: left;

  svg {
    margin-right: 10px;
  }
`,qt=P.button`
  cursor: pointer;
  position: absolute;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  margin: 0;
  padding: 0;
  overflow: visible;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  background-color: transparent;

  &:focus,
  &:focus-visible {
    border-color: ${v("#FFFFFF",.3)};
  }

  svg {
    fill: #ffffff;
    margin: 0;
  }
`,jt=(e,t,n)=>{let{banners:d,createBanner:c,deleteBanner:p}=kt(),f=d[d.length-1],{handleShowModalVisibility:g}=q(),{showSettingsMenu:m}=rt(),{t:h,i18n:B}=_(),{cluster:a}=e(),S=be().some(w=>le.isSolanaNetworkID(w)),A=J(B.language,S),z=t(),V=n();(0,u.useEffect)(()=>{let w=d.find(E=>E.type==="testnet-mode");w&&p({id:w.id}),V?c({type:"testnet-mode",variant:"warning",message:h("featureNotSupportedOnLocalNet"),dismissable:!1,autohide:!1,onClick:()=>m(void 0,u.default.createElement(Y,null))}):z&&c({type:"testnet-mode",variant:"warning",message:h("connectionClusterTestnetMode"),dismissable:!1,autohide:!1,onClick:()=>m(void 0,u.default.createElement(Y,null))})},[V,z,h]),(0,u.useEffect)(()=>{if(!a)return;let w=d.find(E=>E.type==="network-health");if(a==="mainnet-beta"){if(A){let{bannerVariant:E,bannerMessage:j,notificationMessageTitle:R,notificationMessage:ee}=A;!!E&&!!j?j!==w?.message&&c({type:"network-health",variant:E,message:j,dismissable:!1,icon:u.default.createElement(Ke,{width:14,height:14,circleFill:"#FFFFFF",exclamationFill:"transparent"}),autohide:!1,onClick:ee&&R?()=>g("networkHealth",{variant:E,title:R,message:ee}):void 0}):w&&p({id:w.id})}}else w&&p({id:w.id})},[a,A]);let H=(0,u.useCallback)(()=>{f&&p({id:f.id})},[p,f]);return{banner:f,dismissBanner:H}},Gt=u.default.memo(e=>{let{banner:t,dismissBanner:n}=e;return u.default.createElement(I,null,t&&u.default.createElement(Wt,{key:"banner",role:"banner","aria-live":t?.autohide?"assertive":"polite","aria-atomic":"true",variant:t.variant,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{ease:"easeOut",duration:.2}},u.default.createElement(Mt,{tabIndex:t.onClick?1:-1,onClick:t.onClick},t.icon,u.default.createElement(Ut,null,t.message)),t.dismissable&&u.default.createElement(qt,{onClick:n},u.default.createElement(Xe,{width:14,fill:"#FFFFFF"}))))}),Qt=()=>{let e=jt(ze,ve,Pe);return u.default.createElement(Gt,{...e})},Ft=()=>u.default.createElement(Qt,null);s();l();var r=T(M());s();l();var zt=T($t()),k=T(M());var Xt=P(C.div)`
  position: absolute;
  top: 0px;
  left: 0;
  width: 0;
  height: 2px;
  background-color: #ab9ff2;
`,Et=({refs:e,activeRoute:t,onFinishedAnimating:n,isAnimating:d})=>{let[{x:c,width:p},f]=(0,k.useState)({x:0,width:0}),g=(0,k.useCallback)(()=>{e&&e[t]&&e[t].current&&f({x:e[t].current.offsetLeft,width:e[t].current.getBoundingClientRect().width})},[t,e]);return(0,k.useEffect)(()=>{g()},[t,e,g]),(0,k.useEffect)(()=>{let m=(0,zt.default)(()=>{g()},500);return self.addEventListener("resize",m),()=>{self.removeEventListener("resize",m)}}),k.default.createElement(Xt,{animate:{x:c,width:p},style:{opacity:d?1:0},onAnimationComplete:n,transition:{duration:.4,type:"spring"}})};var Nt=.1,_t=10,Kt=60,Yt=P.div`
  position: relative;
  height: ${Kt}px;
  display: flex;
`,Jt=P(C.div)`
  flex: 1;
  overflow-x: hidden;
  padding: ${({padding:e})=>typeof e=="number"?e:16}px;
`,Zt=P(pt)`
  flex: 1;
  display: flex;
  justify-content: space-around;
  padding: 0px 10px;
`,It=r.default.memo(({items:e})=>{let t=O(),n=tt(t),[d,c]=(0,r.useState)(!1),p=(0,r.useMemo)(()=>e.find(a=>Ve({path:`/${a.route}`,end:!0},t.pathname)),[e,t.pathname]),f=p&&p.route,g=(0,r.useMemo)(()=>e.reduce((a,b)=>(a[b.route]=(0,r.createRef)(),a),{}),[e]),m=t.pathname!=n?.pathname&&n?.pathname!=null,h=(0,r.useMemo)(()=>e.map(a=>{let b=r.default.memo(()=>{let S=0;return m&&(S=Rt(e,t.pathname,n?.pathname??"")?_t:-_t),r.default.createElement(Jt,{id:"tab-content","data-testid":`tab-content-${a.route}`,initial:{x:S,opacity:0},animate:{x:0,opacity:1},exit:{opacity:0},transition:{duration:Nt},padding:a.padding},r.default.createElement(ot,{shouldResetOnAccountChange:!0},a.renderContent()))});return r.default.createElement(K,{key:a.route,path:`/${a.route}`,element:r.default.createElement(b,null)})}),[e,t]),B=(0,r.useCallback)(a=>{c(!0),L.capture("tabPress",{data:{target:a}}),se.addBreadcrumb("generic",`Tab changed to ${a}`,"info")},[]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(I,{mode:"wait",initial:!1},r.default.createElement(Ue,{location:t,key:t.pathname},h,r.default.createElement(K,{key:"redirection",element:r.default.createElement(C.div,{exit:{opacity:0},transition:{duration:Nt}},r.default.createElement(We,{to:e[0]?e[0].route:"/"}))}))),r.default.createElement(Yt,null,r.default.createElement(Et,{refs:g,activeRoute:f,onFinishedAnimating:()=>c(!1),isAnimating:d}),r.default.createElement(Zt,{role:"tablist","aria-orientation":"horizontal"},e.map(a=>r.default.createElement(to,{isActive:f===a.route,key:a.route,item:a,ref:g[a.route],isAnimating:d,onClick:()=>B(a.route)})))),r.default.createElement("div",{"aria-hidden":!0,"data-testid":"current-route","data-location":t.pathname}))},(e,t)=>Fe(e.items.map(n=>n.route),t.items.map(n=>n.route))),Rt=(e,t,n)=>{let d=e.findIndex(p=>p.route===Lt(t)),c=e.findIndex(p=>p.route===Lt(n));return d>c},Lt=e=>e==="/"?e:e.replace(/^\/+/g,""),eo=P(qe)`
  display: block;
  padding: 15px 0px;
  margin: 0px 12px;
  position: relative;
  width: 100%;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  :hover {
  }
  :after {
    content: "";
    position: absolute;
    top: -1px;
    left: 0;
    height: 2px;
    width: 100%;
    border-radius: 2px;
    ${e=>e.$isActive&&!e.$isAnimating&&"background-color: #AB9FF2;"}
    ${e=>e.$isAnimating&&"background-color: transparent;"}
  }
`,to=(0,r.forwardRef)(({isActive:e,item:t,isAnimating:n,onClick:d},c)=>r.default.createElement(eo,{"aria-label":t.label,"data-testid":`bottom-tab-nav-button-${t.route}`,$isActive:e,$isAnimating:n,to:t.route,ref:c,onClick:d},t.renderButton({isActive:e})));var oo=o.default.lazy(()=>import("./HomeTabPage-6ORJS43R.js")),ro=o.default.lazy(()=>import("./CollectionsPage-5PDZEUWD.js")),no=o.default.lazy(()=>import("./SwapTabPage-PXPXU6XW.js")),io=o.default.lazy(()=>import("./RecentActivity-ZMAQWR22.js")),ao=o.default.lazy(()=>import("./ExploreTabPage-6APZBNSR.js")),so=o.default.lazy(()=>import("./HomeHeaderRightButtons-YBL53LDA.js")),lo=o.default.lazy(()=>import("./SwapSettingsButton-YH5AOS2E.js")),Ht=()=>{let{data:e=[]}=ue();ye();let{data:[t]}=G(["frontend-enable-session-start"]),{mutateAsync:n}=ce();U(()=>{at.onAppSessionStart(e)},e.length>0&&t);let{mutate:d}=Ee();return U(()=>{d()},!0),U(()=>{n()},te),o.default.createElement(o.default.Fragment,null,o.default.createElement(mo,null),o.default.createElement(Ft,null),o.default.createElement(po,null),o.default.createElement("div",{id:$}))},mo=()=>{let{pathname:e}=O(),t=(0,o.useMemo)(()=>e==="/swap"?o.default.createElement(lo,null):e==="/"?o.default.createElement(so,null):null,[e]);return o.default.createElement(mt,{rightMenuButton:t})},po=()=>{let{data:e}=ge(),{data:t}=he({authRepository:W}),{data:[n]}=G(["enable-pin-verification-timer"]),{data:d}=Ge(n),c=t?.isReadOnly,p=D.isFeatureEnabled("kill-swapper")||c,f=D.isFeatureEnabled("kill-explore"),g=D.isFeatureEnabled("kill-collectibles"),{t:m}=_(),{pathname:h}=O(),B=De(),{closeAllModals:a}=Re();Me(),(0,o.useEffect)(()=>{a(),h!=="/"&&B("/")},[e]);let b=(0,o.useCallback)(A=>({isActive:z})=>o.default.createElement(He,{animationName:A,isActive:z}),[]),S=(0,o.useMemo)(()=>[{label:m("homeTab"),route:"/",renderButton:b("tabBarHome"),renderContent:()=>o.default.createElement(oo,null),padding:0},g?null:{label:m("collectiblesTab"),route:"/collectibles",renderButton:b("tabBarCollectibles"),renderContent:()=>o.default.createElement(ro,null)},p?null:{label:m("swapTab"),route:"/swap",renderButton:b("tabBarSwapper"),renderContent:()=>o.default.createElement(no,null)},{label:m("activityTab"),route:"/notifications",renderButton:b("tabBarActivity"),renderContent:()=>o.default.createElement(io,null)},f?null:{label:m("exploreTab"),route:"/explore",renderButton:b("tabBarExplore"),renderContent:()=>o.default.createElement(ao,null),padding:0}].filter(A=>A!==null),[g,f,p,m,b]);return o.default.createElement(o.Suspense,null,o.default.createElement(Bt,{expired:d?.expired??!1}),o.default.createElement(It,{items:S}))};s();l();var N=T(M());s();l();var Z={container:"_1nscgt61 _51gazn1ar _51gazn1b4 _51gaznqm _51gaznvd _51gaznqp _51gaznt1 _51gaznxp _51gazn18w",notification:"_1nscgt63 _51gaznn0 _51gaznny _51gaznpu _51gaznow _51gaznbp _51gazn9a _51gazne4 _51gazn6v _51gaznkx _51gaznk3 _51gaznlr _51gaznj9 _51gaznqg _51gaznqe _51gaznqi _51gaznqc _51gazn2t2 _51gazn2jw _51gazn21k _51gazn2aq _51gazn1k2"};var co=()=>{let e=ht();if(!e)return null;let t={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}},n={initial:{y:-40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},transition:{duration:.5,ease:[.5,0,.2,1]}};return N.createElement(I,{mode:"wait"},N.createElement(C.div,{className:Z.container,...t},N.createElement(C.div,{className:Z.notification,key:e?.req?.id||"sidepanel",...n},N.createElement(xt,null))))},Ot=()=>{let{isSidebarOpen:e}=ct();return e?N.createElement(yt,null,N.createElement(co,null)):null};ke();ae.init({provider:vt});_e();Be(new Ce);xe((e,t)=>we(e,t,L));Ae(Te);var uo=()=>{(0,i.useEffect)(()=>{L.capture("popupOpen")},[]);let e=(0,i.useCallback)(()=>{Se({url:"onboarding.html"}),self.close()},[]);return i.default.createElement(i.default.Fragment,null,i.default.createElement($e,{future:{v7_startTransition:!0}},i.default.createElement(Qe,{theme:et},i.default.createElement(Ie,null,i.default.createElement(Pt,{backgroundColor:"#222222"}),i.default.createElement(Ye,null,i.default.createElement(Je,{withBorder:!0},i.default.createElement(bt,null,i.default.createElement(Oe,null,i.default.createElement(me,{analytics:L},i.default.createElement(St,null,i.default.createElement(Ne,null,i.default.createElement(de,{authRepository:W},i.default.createElement(pe,{userRepository:lt,claimUsernameSigner:st},i.default.createElement(je,{seedlessRepository:At},i.default.createElement(gt,{openOnboarding:e},i.default.createElement(ut,null,i.default.createElement(it,null,i.default.createElement(ft,null,i.default.createElement(dt,null,i.default.createElement(Ht,null))))))),i.default.createElement(Ot,null))))),i.default.createElement("div",{id:$}),i.default.createElement(Ze,null))))))))))},fo=document.getElementById("root"),go=(0,Vt.createRoot)(fo);go.render(i.default.createElement(uo,null));
//# sourceMappingURL=Popup.js.map
