import{a as Ae}from"./chunk-SLD6KXWR.js";import{a as Ie}from"./chunk-OJ5I2G5P.js";import{e as Pe}from"./chunk-FPRO5GQI.js";import"./chunk-2WECCVZD.js";import{E as Ce,Ra as q}from"./chunk-GR6D4DPI.js";import"./chunk-NYONBW6F.js";import"./chunk-QBZHFUZ3.js";import"./chunk-CCUXU2GU.js";import"./chunk-BT2EXIW3.js";import"./chunk-6DOWJ64L.js";import"./chunk-Z6IB25YE.js";import{a as Q}from"./chunk-QEXGR5WT.js";import"./chunk-YCCYNAY3.js";import"./chunk-NDHIYOGB.js";import"./chunk-X3ESGVCB.js";import"./chunk-Y3NV75FH.js";import"./chunk-S24UABH5.js";import"./chunk-SHAEZV7V.js";import"./chunk-H4C3OTZW.js";import{h as N}from"./chunk-DERIAD33.js";import"./chunk-EGXLQXDH.js";import{a as H}from"./chunk-CCQRCL2K.js";import"./chunk-I5YT3SXD.js";import"./chunk-TISYHGD5.js";import"./chunk-BRWGJFNS.js";import"./chunk-IVMV7P4T.js";import"./chunk-P7NGDOTF.js";import"./chunk-HPOS2V3B.js";import"./chunk-XYJX6G2K.js";import"./chunk-3WUBIQFW.js";import"./chunk-W27Z2YZM.js";import{L as E,M as he,a,b as we,c as Se,d as be,e as C,q as M,u as $,v as xe}from"./chunk-PCKXDRQ7.js";import"./chunk-H3FFS4GT.js";import"./chunk-NSMHSELH.js";import"./chunk-YHY2IGPI.js";import"./chunk-PTZMRZUV.js";import"./chunk-VQVTLSDS.js";import{j as ve}from"./chunk-OKP6DFCI.js";import{j as ye,o as b,rb as Z}from"./chunk-WIQ4WVKX.js";import{Ca as de,Ra as ue,Sa as fe,bb as ge,ia as ie,ja as se,qa as pe,va as le,ya as ce,za as me}from"./chunk-LTUJMY6D.js";import"./chunk-UCBZOSRF.js";import"./chunk-PN7XAO7F.js";import"./chunk-TZKYPSN2.js";import"./chunk-36Y64SHT.js";import"./chunk-2MSBWT3V.js";import"./chunk-NM5XY6LY.js";import"./chunk-AKPGU3DO.js";import{d as ae}from"./chunk-IS26EKBL.js";import"./chunk-GQEPK4C4.js";import"./chunk-BTKBODVJ.js";import"./chunk-KXAUXXVB.js";import"./chunk-TYXPKGSM.js";import"./chunk-WFPABEAU.js";import"./chunk-QWOVPA54.js";import"./chunk-LDMZMUWY.js";import"./chunk-X2SBUKU4.js";import"./chunk-OXFZHPMY.js";import"./chunk-EDLKLLZ5.js";import"./chunk-OX7Q6J2U.js";import{Na as te,be as ne}from"./chunk-MHD4HNLY.js";import"./chunk-G3SOTMUM.js";import{m as w}from"./chunk-56SJOU6P.js";import{S as Y}from"./chunk-6E74REJW.js";import"./chunk-N7UFQNLW.js";import"./chunk-66TF6S77.js";import"./chunk-4P36KWOF.js";import{a as v}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as y,h as t,n}from"./chunk-3KENBVE7.js";t();n();var l=y(v());t();n();var S=y(v());t();n();var s=y(v());t();n();var qe=y(v());var z=b.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,ir=b.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var sr=b.div`
  color: #ab9ff2;
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: #333333;
  }
`;t();n();var x=y(v()),V={container:a({display:"flex",flexDirection:"column",gap:0,backgroundColor:"bgRow",borderRadius:"table",padding:20}),tokenContainer:a({display:"flex",flexDirection:"row",alignItems:"center",minHeight:48}),accessoryContainer:a({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),actionsContainer:a({display:"flex",flexDirection:"row",gap:0,backgroundColor:"accentPrimary"}),spacer:a({flex:1}),selector:a({display:"flex",gap:8,flexDirection:"row",backgroundColor:{base:"gray",hover:"borderPrimary"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer"})},O=({input:e,isLoading:r,onSelectorPress:o,perspective:m,selectorIcon:d,selectorLabel:c,accessories:p})=>{let{t:i}=w(),A=i(m==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),g=(0,x.useMemo)(()=>{if(p)return x.default.createElement("div",{className:V.accessoryContainer},p)},[p]);return x.default.createElement("div",{className:V.container},x.default.createElement(C,{font:"labelSemibold",color:"textTertiary",children:A}),x.default.createElement("div",{className:V.tokenContainer},e,x.default.createElement("div",{className:V.spacer}),r?x.default.createElement(E,{width:112,height:24}):x.default.createElement("div",{onClick:o,className:V.selector,"data-testid":`${m}-token-button`},d,x.default.createElement(C,{font:"captionSemibold",color:"textPrimary",children:c}),x.default.createElement(Se.ChevronDown,{size:14}))),g)};t();n();var ke=32,G="_4ag7710",Te="_4ag7712 _51gaznqk _51gaznvd _51gaznrp";var U={filters:a({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:a({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:a({marginRight:2}),accessoryContainer:a({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:a({flex:1}),pointer:a({cursor:"pointer"})},Ne=({asset:e,perspective:r,onInputChange:o,onFungibleTap:m,onFilterTap:d,switchCurrencyDenomination:c,onBalanceTap:p})=>{let{amount:i,balance:A,fungible:g,isAmountEditable:k,isAmountLoading:I,isSecondaryAmountLoading:u,isWarning:_,secondaryAmount:L,amountPrefix:B,selectedFilter:J,filters:K,supportsCurrencyDenominationSwitching:R}=e,{t:ee}=w(),Ue=s.default.createElement(Ce,{image:{type:"fungible",src:g.data?.logoUri,fallback:g.data?.symbol||g.data?.tokenAddress},size:32,tokenType:g.type,chainMeta:g.data?.chain}),$e=T=>T.length>16?16:T.length>14?18:T.length>12?20:22,He=(0,s.useMemo)(()=>{let T=$e(i);return I?s.default.createElement(E,{width:100,height:18,borderRadius:12}):s.default.createElement(z,{hasWarning:_,fontSize:T},s.default.createElement(C,{font:"heading3",children:B,className:U.currencyPrefix}),s.default.createElement(N,{name:"amount",border:"0",placeholder:"0",warning:_,value:i,decimalLimit:g.data?.decimals,disabled:!k,onUserInput:o}))},[I,_,B,i,g.data?.decimals,k,o]),re=(0,s.useMemo)(()=>u?s.default.createElement(E,{width:40,height:18,borderRadius:12}):L?s.default.createElement(C,{font:"caption",color:"textSecondary",children:L}):null,[u,L]),oe=(0,s.useMemo)(()=>{let T=D=>{switch(D){case .25:return"25%";case .5:return"50%";case 1:return ee("swapAssetCardMaxButton")}};return K.map(D=>s.default.createElement($,{key:D,active:D===J,children:T(D),onChange:()=>d(D),className:G}))},[K,ee,J,d]),Qe=(0,s.useMemo)(()=>s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:U.secondaryContainer,onClick:c},re,R?s.default.createElement(M,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary",className:U.pointer}):null),s.default.createElement("div",{className:U.spacer}),s.default.createElement(C,{font:"caption",color:{base:"textSecondary",hover:p?"textPrimary":void 0},children:A,onPress:p}),s.default.createElement("div",{className:U.filters},oe)),[A,oe,p,re,R,c]);return s.default.createElement(O,{perspective:r,input:He,selectorIcon:Ue,selectorLabel:g.data?.symbol??"",onSelectorPress:m,accessories:Qe})};t();n();var W=y(v());var Fe=({onSelectorTap:e,perspective:r})=>{let{t:o}=w();return W.default.createElement(O,{perspective:r,input:W.default.createElement(z,{hasWarning:!1,fontSize:32},W.default.createElement(N,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:W.default.createElement(M,{icon:"Plus",size:28,shape:"circle",color:"textPrimary",backgroundColor:"bgArea"}),selectorLabel:o("commandSelect"),onSelectorPress:e,accessories:W.default.createElement(C,{font:"caption",color:"textSecondary",children:"$0"})})};t();n();var f=y(v());var j={filters:a({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:a({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:a({marginRight:2}),accessoryContainer:a({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:a({flex:1})},Ge=[.5,1],Le=({perspective:e})=>{let{t:r}=w(),o=(0,f.useMemo)(()=>{let p=Number(we.typography.font.heading3.fontSize.replace("px",""));return f.default.createElement(z,{fontSize:p},f.default.createElement(N,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),m=(0,f.useMemo)(()=>f.default.createElement(C,{font:"caption",color:"textSecondary",children:"$0"}),[]),d=(0,f.useMemo)(()=>{let p=i=>{switch(i){case .25:return"25%";case .5:return"50%";case 1:return r("swapAssetCardMaxButton")}};return Ge.map(i=>f.default.createElement($,{active:!1,children:p(i),onChange:()=>{},className:G}))},[r]),c=(0,f.useMemo)(()=>f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:j.secondaryContainer},m,e==="sell"?f.default.createElement(M,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),f.default.createElement("div",{className:j.spacer}),f.default.createElement(he,{font:"caption",width:64}),e==="sell"?f.default.createElement("div",{className:j.filters},d):null),[d,m,e]);return f.default.createElement(O,{perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:c})};var Be={container:a({display:"flex",flexDirection:"column",flex:1}),assets:a({gap:12,display:"flex",flexDirection:"column"})},De=({onSelectAsset:e,isLoadingInitialAssets:r})=>{let{buy:o,sell:m,switchPerspective:d,setAmount:c,switchCurrencyDenomination:p,setFilter:i}=me(),{t:A}=w(),g=(0,S.useCallback)(async(I,u)=>{await ae.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:I}}),i(I,u)},[i]),k=(0,S.useMemo)(()=>[{perspective:"sell",asset:m},{perspective:"buy",asset:o}].map(({asset:I,perspective:u})=>{if(!I)return S.default.createElement(Fe,{key:u+"select",perspective:u,onSelectorTap:()=>e(u)});if(r)return S.default.createElement(Le,{key:u+"loading",perspective:u});let _=I.filters.length>0?()=>i(1,u):void 0,L=S.default.createElement(Ne,{key:u,asset:I,perspective:u,switchCurrencyDenomination:p,onFungibleTap:()=>e(u),onInputChange:B=>{c(u,B)},onFilterTap:B=>g(B,u),onBalanceTap:_});return u==="buy"?S.default.createElement(be,{position:"relative",key:u+"swap-button"},L,S.default.createElement("div",{className:Te,style:{pointerEvents:"none"}},S.default.createElement(xe,{label:A("swapperSwitchTokens"),size:ke,shape:"circle",onClick:d,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):L}),[m,o,r,p,g,e,c,i,d,A]);return S.default.createElement("div",{className:Be.container},S.default.createElement("div",{className:Be.assets},k))};t();n();var Oe=y(v());t();n();var Me=y(v());var Ye={autoSlippageOptIn:"autoSlippageOptIn"},ze=()=>{let{handleShowModalVisibility:e}=q();return(0,Me.useCallback)(r=>{let o=Ye[r];if(!o)throw new Error(`Swap review interceptor modal not found or configured for ${r}.`);e(o)},[e])};var We=()=>{let{goToInsufficientBalance:e,goToSwapReview:r,goToSwapTermsOfService:o,goToConfirmation:m}=Ie(),d=ze(),{disabled:c,title:p,type:i,onClick:A}=fe({goToInsufficientBalance:e,goToSwapReview:r,goToSwapTermsOfService:o,goToConfirmation:m,showOverlay:d});function g(k){return k==="primary"?"primary":k==="alert"?"warning":"default"}return Oe.default.createElement(ve,{type:"submit",theme:g(i),disabled:c,onClick:A},p)};t();n();var F=y(v());t();n();var h=y(v());var Ze=b.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,je=b.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,Xe=b.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${Y("#222222",.75)};
`,_e=b.div`
  background-color: ${Y("#E5A221",.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,Ee=b(Z).attrs({size:14,lineHeight:19,weight:500,color:"#fff",textAlign:"left"})``,X=({message:e,swapDisabled:r=!0,children:o})=>r?h.default.createElement(h.default.Fragment,null,h.default.createElement(Xe,{"data-testid":"disable-overlay"},h.default.createElement(_e,null,h.default.createElement(Ee,null,e))),h.default.createElement(je,{"data-testid":"disable-wrapper"},o)):h.default.createElement(Ze,null,h.default.createElement(_e,null,h.default.createElement(Ee,null,e)),h.default.createElement(h.default.Fragment,null,o));var Je=b.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,Ve=F.default.memo(({children:e})=>{let r=ne(),o=r.every(i=>te.isMainnetNetworkID(i)),d=se().some(i=>r.includes(i)),{t:c}=w(),p=(0,F.useMemo)(()=>({availableOnlyOnMainnet:c("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:c("swapNotAvailableOnSelectedNetwork")}),[c]);return o?d?F.default.createElement(Je,null,e):F.default.createElement(X,{message:p.notAvailableOnSelectedNetwork,swapDisabled:!0},e):F.default.createElement(X,{message:p.availableOnlyOnMainnet,swapDisabled:!0},e)});var Ke=()=>{let[e]=ye(),r=e.get("sellFungible")??void 0,o=e.get("sellAmount")??void 0,m=e.get("buyFungible")??void 0,d=de();ce({skipInitialBuyFungible:!0}),pe();let{isLoading:c}=le({paramsSellFungible:r,paramsSellAmount:o,paramsBuyFungible:m});return(0,l.useLayoutEffect)(()=>d,[d]),{isLoadingInitialAssets:c}},Re=({isLoadingInitialAssets:e})=>{let{quoteResponse:r,hasNoRoutes:o}=ie(),{handleShowModalVisibility:m}=q(),d=(0,l.useCallback)(i=>{m(i==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[m]),c=ge({goToAssetSelect:d}),p=(0,l.useMemo)(()=>l.default.createElement(De,{onSelectAsset:c,isLoadingInitialAssets:e}),[e,c]);return l.default.createElement(ue,null,l.default.createElement(Ve,null,l.default.createElement(H,{justify:"space-between",flex:1},l.default.createElement(H,{align:"normal"},p,r||o?l.default.createElement(Ae,null):null),l.default.createElement(H,null,r?l.default.createElement(We,null):null))))},er=()=>{let{isLoadingInitialAssets:e}=Ke();return e?l.default.createElement(l.default.Fragment,null,l.default.createElement(Q,{height:"120px",borderRadius:"8px 8px 0 0"}),l.default.createElement(Pe,{gap:1}),l.default.createElement(Q,{height:"120px",borderRadius:"0 0 8px 8px"})):l.default.createElement(Re,{isLoadingInitialAssets:e})},ut=er;export{ut as default};
//# sourceMappingURL=SwapTabPage-PXPXU6XW.js.map
