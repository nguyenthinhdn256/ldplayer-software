import{b as h}from"./chunk-W27Z2YZM.js";import{aa as I,c as w}from"./chunk-LTUJMY6D.js";import{a as b,g as U}from"./chunk-NM5XY6LY.js";import{a as R,d as F}from"./chunk-IS26EKBL.js";import{A as O}from"./chunk-KXAUXXVB.js";import{t as _}from"./chunk-OX7Q6J2U.js";import{Fb as D,Kc as x,Uc as T,ce as k}from"./chunk-MHD4HNLY.js";import{a as l}from"./chunk-56SJOU6P.js";import{A as E,oa as L,pa as P}from"./chunk-66TF6S77.js";import{a as M}from"./chunk-7X4NV6OJ.js";import{f as C,h as r,n as a}from"./chunk-3KENBVE7.js";r();a();r();a();var f=class{constructor(t){this.onBannerSeen=t=>{this.#t.capture("actionBannerSeenByUser",{data:{banner:t}})};this.onBannerClick=t=>{this.#t.capture("actionBannerClickedByUser",{data:{banner:t}})};this.onBannerDismiss=t=>{this.#t.capture("actionBannerDismissedByUser",{data:{banner:t}})};this.onInterstitialSeen=t=>{this.#t.capture("actionBannerInterstitialSeenByUser",{data:{banner:t}})};this.onInterstitialPrimaryClick=t=>{this.#t.capture("actionBannerInterstitialPrimaryButtonClickedByUser",{data:{banner:t}})};this.onInterstitialSecondaryClick=t=>{this.#t.capture("actionBannerInterstitialSecondaryButtonClickedByUser",{data:{banner:t}})};this.onInterstitialDismiss=t=>{this.#t.capture("actionBannerInterstitialDismissedByUser",{data:{banner:t}})};this.#t=t}#t};r();a();var $=({id:o,humanReadableId:t,description:e,bannerType:n})=>({id:o,humanReadableId:t,description:e,type:n}),V=({id:o,humanReadableId:t,description:e,bannerType:n,interstitial:i})=>{let{title:B,primaryButtonText:m,secondaryButtonText:s}=i,c;if(n==="Modal")for(let[A,g]of Object.values(i.lineItems).entries())c={...c??{},[`lineItem${A+1}`]:{title:g.title,description:g.description}};return{id:o,humanReadableId:t,description:e,type:n,interstitial:{title:B,body:c,primaryButtonText:m??l.t("commandContinue"),secondaryButtonText:s??l.t("commandDismiss")}}};r();a();var p=C(M());r();a();var d=class{async get(t){let e=null;try{if(e=self.localStorage.getItem(t),typeof e!="string")return null;try{return JSON.parse(e)}catch{return console.warn(`[DeprecatedLocalStorage.get] Error parsing JSON for key "${t}"`),e}}catch(n){let i=`[DeprecatedLocalStorage.get] Error getting key (${t}): ${n}`;throw new Error(i)}}async getAll(t){try{let e={};t=t||Object.keys(self.localStorage);for(let n of t)e[n]=await this.get(n);return e}catch(e){let n=`[DeprecatedLocalStorage.getAll] Error getting key(s) (${t}): ${e}`;throw new Error(n)}}async remove(t){let e=`[DeprecatedLocalStorage.remove] Error removing key(s) (${t}): Method not implemented`;throw new Error(e)}async set(t,e){let n=`[DeprecatedLocalStorage.set] Error setting key (${t}): Method not implemented`;throw new Error(n)}async setAll(t){let n=`[DeprecatedLocalStorage.setAll] Error setting key (${Object.keys(t)}): Method not implemented`;throw new Error(n)}subscribe(t){return console.warn("[DeprecatedLocalStorage.subscribe] Method not implemented"),()=>{}}async update(t){let e=`[DeprecatedLocalStorage.update] Error updating key(s) (${t}): Method not implemented`;throw new Error(e)}};var G=new R,K=new d,Y=[...D,...w,I,T,"i18nextLng"],Rt=()=>{let{data:o,isFetching:t}=k(),{data:e,isFetching:n}=O(),{data:i,isFetching:B}=L([{key:"Local Storage",storage:G},{key:"Deprecated Local Storage",storage:K}],Y),m=x(),s=(0,p.useCallback)(async()=>{let{version:u}=chrome.runtime.getManifest(),S=await F.getDeviceId(),N=await m();return{"App Version":u,"Platform Information":b,"Display Language":_(l.language),"Phantom Auth":N,"Device Id":S,...o,...e,...i}},[o,e,i,m]),c=t||n||B,A=(0,p.useCallback)(async u=>{u?.preventDefault();let S=await s();await P.downloadLog(S)},[s]),g=(0,p.useCallback)(()=>{h({url:U})},[]),v=(0,p.useCallback)(()=>{h({url:E})},[]);return{appState:s,isFetching:c,goCreateTicket:g,goSupportDesk:v,downloadLogs:A}};export{f as a,$ as b,V as c,Rt as d};
//# sourceMappingURL=chunk-P7NGDOTF.js.map
