"use strict";(self.webpackChunk_tonkeeper_extension=self.webpackChunk_tonkeeper_extension||[]).push([[388],{94221:(e,n,t)=>{t.d(n,{Jh:()=>N,Tt:()=>S});var r,s,o,i,a=t(30168),l=t(80184),c=t(72791),d=t(57689),u=t(11087),h=t(65867),x=t(23098),m=t(61945),p=t(29305),j=t(14322),f=t(49373),g=t(26503),v=t(89242),b=t(47712),w=t(68827),k=t(2346),Z=t(56093),y=t(56445),C=t(91153);const L=e=>{let{items:n,kind:t}=e;return(0,l.jsx)(g.L8,{margin:!1,children:n.filter((e=>!e.disabled)).map((e=>(0,l.jsx)(Z.H,{item:e,kind:t},e.title)))})},P=h.ZP.div(r||(r=(0,a.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n"]))),T=e=>{let{item:n,kind:t,handleClose:r}=e;const s=(0,d.s0)(),o=(0,x._)(),{data:i}=(0,j.Nq)(),{t:a}=(0,m.$G)(),c=(0,C.TB)();return(0,l.jsxs)(P,{children:[(0,l.jsx)(v.JE,{children:(0,l.jsx)(v.O$,{children:(0,l.jsxs)(v.hy,{children:[(0,l.jsx)(w.$d,{country:i,onClick:()=>s(p.FR.settings+p.aF.country)}),(0,l.jsx)(b.H3,{children:n.title}),(0,l.jsx)(v.Ho,{handleClose:r})]})})}),(0,l.jsx)(L,{items:n.items,kind:t}),(0,l.jsx)(_,{children:(0,l.jsx)(E,{onClick:()=>c.exchangePostUrl&&o.openPage(c.exchangePostUrl),children:a("buy"===t?"exchange_modal_other_ways_to_buy":"exchange_other_ways")})})]})},_=h.ZP.div(s||(s=(0,a.Z)(["\n    text-align: center;\n\n    ","\n"])),(e=>"full-width"===e.theme.displayType&&(0,h.iv)(o||(o=(0,a.Z)(["\n            padding-bottom: 1rem;\n        "]))))),E=(0,h.ZP)(b.fA)(i||(i=(0,a.Z)(["\n    cursor: pointer;\n    padding: 7.5px 1rem 8.5px;\n    background-color: ",";\n    transition: background-color 0.1s ease;\n    border-radius: ",";\n    display: inline-block;\n\n    &:hover {\n        background-color: ",";\n    }\n"])),(e=>e.theme.backgroundContent),(e=>e.theme.cornerMedium),(e=>e.theme.backgroundHighlighted)),S=e=>{let{buy:n,open:t,handleClose:r}=e;const s=(0,c.useCallback)((()=>{if(t&&n)return(0,l.jsx)(T,{item:n,kind:"buy",handleClose:r})}),[t,n]);return(0,l.jsx)(v.P_,{isOpen:t&&null!=n,handleClose:r,hideButton:!0,children:s})},N=()=>{const{data:e}=(0,f.MF)(),n=(0,d.TH)(),[t,r]=(0,u.lr)(),s=(0,c.useMemo)((()=>"open"===new URLSearchParams(t).get("buy")),[t,n]),o=(0,c.useCallback)((()=>{t.has("buy")?t.delete("buy"):t.append("buy","open"),r(t,{replace:!0})}),[t,r]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k.a,{icon:(0,l.jsx)(y.Vw,{}),title:"wallet_buy",action:o}),(0,l.jsx)(S,{buy:e,open:s,handleClose:o})]})}},56445:(e,n,t)=>{t.d(n,{Iy:()=>i,Vw:()=>s,jE:()=>o});var r=t(80184);const s=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:(0,r.jsx)("path",{d:"M14 21.5V14M14 14V6.5M14 14H21.5M14 14H6.5",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),o=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:(0,r.jsx)("path",{d:"M14 6.5V21.5M14 6.5L7.5 13M14 6.5L20.5 13",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),i=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:(0,r.jsx)("path",{d:"M14 21.5V6.5M14 21.5L7.5 15M14 21.5L20.5 15",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})},90648:(e,n,t)=>{t.d(n,{f:()=>a});var r=t(80184),s=t(23098),o=t(2346),i=t(56445);const a=e=>{let{chain:n,jetton:t}=e;const a=(0,s._)();return(0,r.jsx)(o.a,{icon:(0,r.jsx)(i.Iy,{}),title:"wallet_receive",action:()=>a.uiEvents.emit("receive",{method:"receive",params:{chain:n,jetton:t}})})}},83627:(e,n,t)=>{t.d(n,{Q:()=>h});var r,s=t(30168),o=t(80184),i=t(2346),a=t(5784),l=t(35976),c=t(65867),d=t(53006);const u=(0,c.zo)(a.Td)(r||(r=(0,s.Z)(["\n    height: 24px;\n    width: 24px;\n    color: ",";\n"])),(e=>e.theme.iconPrimary)),h=e=>{let{fromAsset:n}=e;const[t,r]=(0,l.J)(),[s,a]=(0,d.g7)();return(0,o.jsx)(i.a,{icon:(0,o.jsx)(u,{}),title:"swap_title",action:()=>{n&&a(n),r(!0)}})}},72884:(e,n,t)=>{t.d(n,{P:()=>h});var r=t(80184),s=t(1849),o=t(91153),i=t(38236),a=t(2346),l=t(94221),c=t(90648),d=t(83627),u=t(83273);const h=()=>{const e=(0,o.TH)(),n=(0,o.i7)()===u.Zc.TESTNET;return(0,r.jsxs)(a.G,{children:[!n&&(0,r.jsx)(l.Jh,{}),!e&&(0,r.jsx)(i.Q,{asset:"TON"}),(0,r.jsx)(c.f,{}),!n&&!e&&(0,r.jsx)(d.Q,{fromAsset:s.Ct})]})}},74639:(e,n,t)=>{t.d(n,{Ee:()=>L,JQ:()=>S,qR:()=>y});var r,s,o,i,a,l,c,d,u,h,x=t(30168),m=t(80184),p=t(72791),j=t(65867),f=t(87594),g=t(23098),v=t(17636),b=t(5784),w=t(67418),k=t(86704);const Z=j.ZP.div(r||(r=(0,x.Z)(["\n    display: grid;\n    margin: 0 0 2rem 0;\n    gap: 0.5rem;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n"]))),y=j.ZP.div(s||(s=(0,x.Z)(["\n    position: relative;\n    user-select: none;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n\n    background-color: ",";\n    transition: background-color 0.1s ease;\n\n    border-radius: ",";\n\n    overflow: hidden;\n\n    ","\n"])),(e=>e.theme.backgroundContent),(e=>e.theme.cornerSmall),(e=>e.ios?e.isHover?(0,j.iv)(o||(o=(0,x.Z)(["\n                    background-color: ",";\n                "])),e.theme.backgroundContentTint):void 0:e.hover?(0,j.iv)(i||(i=(0,x.Z)(["\n                    cursor: pointer;\n\n                    &:hover {\n                        background-color: ",";\n                    }\n                "])),e.theme.backgroundContentTint):void 0)),C=j.ZP.div(a||(a=(0,x.Z)(["\n    width: 100%;\n    position: relative;\n"]))),L=j.ZP.div(l||(l=(0,x.Z)(["\n    width: 100%;\n    padding-bottom: 100%;\n\n    ","\n    background-size: cover;\n"])),(e=>e.url&&(0,j.iv)(c||(c=(0,x.Z)(["\n            background-image: url('","');\n        "])),e.url))),P=j.ZP.div(d||(d=(0,x.Z)(["\n    display: flex;\n    flex-direction: column;\n    padding: 0.5rem 0.75rem 0.5rem;\n    white-space: nowrap;\n"]))),T=j.ZP.div(u||(u=(0,x.Z)(["\n    position: absolute;\n    top: 10px;\n    right: 8px;\n"]))),_=j.ZP.div(h||(h=(0,x.Z)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    height: 32px;\n    width: 32px;\n"]))),E=p.memo((e=>{var n;let{nft:t,resolution:r,onOpen:s}=e;const o=void 0!==t.sale,i=null===(n=t.previews)||void 0===n?void 0:n.find((e=>e.resolution===r)),{ios:a}=(0,f.bp)(),[l,c]=(0,p.useState)(!1),d=(0,p.useRef)(null),u=(0,p.useContext)(f._N),{data:h}=(0,k.id)(t);(0,p.useLayoutEffect)((()=>{d.current&&u&&d.current.contains(u)?c(!0):c(!1)}),[d.current,u,c]);const x=h&&Number((0,v.V)(h))<=30;return(0,m.jsxs)(y,{hover:!0,isHover:l,ios:a,ref:d,onClick:()=>s(t),children:[(0,m.jsxs)(C,{children:[(0,m.jsx)(L,{url:null===i||void 0===i?void 0:i.url}),o&&(0,m.jsx)(T,{children:(0,m.jsx)(b.rG,{})}),x&&(0,m.jsx)(_,{children:(0,m.jsx)(b.XN,{})})]}),(0,m.jsxs)(P,{children:[(0,m.jsx)(w.Ok,{nft:t}),(0,m.jsx)(w.is,{nft:t})]})]})})),S=e=>{let{nfts:n,className:t}=e;const r=(0,g._)();return(0,m.jsx)(Z,{className:t,children:(null!==n&&void 0!==n?n:[]).map((e=>{var n;return"hidden"===(null===(n=e.metadata)||void 0===n?void 0:n.render_type)?(0,m.jsx)(m.Fragment,{}):(0,m.jsx)(E,{nft:e,resolution:"500x500",onOpen:()=>r.openNft(e)},e.address)}))})}},38236:(e,n,t)=>{t.d(n,{Q:()=>l});var r=t(80184),s=t(23098),o=t(2346),i=t(56445),a=t(14182);const l=e=>{let{asset:n}=e;const t=(0,s._)();return(0,r.jsx)(o.a,{icon:(0,r.jsx)(i.jE,{}),title:"wallet_send",action:()=>t.uiEvents.emit("transfer",{method:"transfer",id:Date.now(),params:{jetton:n,chain:a.S.TON,from:"TON"===n?"wallet":"token"}})})}},17636:(e,n,t)=>{t.d(n,{V:()=>a,W:()=>i});var r=t(79297),s=t(72791),o=t(61945);function i(e,n){const{i18n:t}=(0,o.$G)();return(0,s.useMemo)((()=>e?new Intl.DateTimeFormat((0,r.l1)(t.language),{month:"short",day:"numeric",year:(new Date).getFullYear()-1===new Date(e).getFullYear()?"numeric":void 0,hour:"numeric",minute:"numeric",...n}).format(e):""),[e,t.language,n])}function a(e){if(!e)return"";const n=Math.floor((new Date(e).getTime()-Date.now())/864e5);return n<0?"0":n.toString()}},90388:(e,n,t)=>{t.r(n),t.d(n,{default:()=>me});var r,s,o,i,a,l,c,d,u,h,x,m,p,j=t(80184),f=t(14182),g=t(29857),v=t(88186),b=t(74639),w=t(11707),k=t(93853),Z=t(72791),y=t(57689),C=t(87594),L=t(61819),P=t(61945),T=t(29305),_=t(57443),E=t(26503),S=t(30168),N=t(65867),O=t(47712);const F=N.ZP.div(r||(r=(0,S.Z)(["\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem 1rem 1rem 0;\n    box-sizing: border-box;\n    gap: 1rem;\n    width: 100%;\n"]))),M=N.ZP.img(s||(s=(0,S.Z)(["\n    width: 44px;\n    height: 44px;\n    border-radius: ",";\n\n    pointer-events: none;\n"])),(e=>e.theme.cornerFull)),R=N.ZP.div(o||(o=(0,S.Z)(["\n    flex-grow: 1;\n\n    display: flex;\n    flex-direction: column;\n\n    white-space: nowrap;\n"]))),V=N.ZP.div(i||(i=(0,S.Z)(["\n    display: grid;\n    grid-template-columns: auto 1fr 0fr;\n    gap: 0.25rem;\n    width: 100%;\n"]))),B=(0,N.ZP)(O.RV)(a||(a=(0,S.Z)(["\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n"]))),H=(0,N.ZP)(O.cV)(l||(l=(0,S.Z)(["\n    display: inline-block;\n    margin-left: 8px;\n    padding: 3px 4px;\n    border-radius: ",";\n    background: ",";\n    color: ",";\n"])),(e=>e.theme.corner3xSmall),(e=>e.theme.backgroundContentTint),(e=>e.theme.textSecondary)),I=N.ZP.div(c||(c=(0,S.Z)(["\n    display: flex;\n    justify-content: space-between;\n"]))),A=(0,N.ZP)(O.pN)(d||(d=(0,S.Z)(["\n    color: ",";\n"])),(e=>e.theme.textSecondary)),G=(0,N.ZP)(O.RV)(u||(u=(0,S.Z)(["\n    color: ",";\n"])),(e=>e.theme.textSecondary)),U=N.ZP.span(h||(h=(0,S.Z)(["\n    color: ",";\n"])),(e=>e.theme.accentOrange)),J=e=>{let{name:n,symbol:t,balance:r,secondary:s,fiatAmount:o,label:i,rate:a,verification:l}=e;const{t:c}=(0,P.$G)();return(0,j.jsxs)(R,{children:[(0,j.jsxs)(V,{children:[(0,j.jsxs)(B,{children:[null!==t&&void 0!==t?t:n,i?(0,j.jsx)(H,{children:i}):null]}),(0,j.jsx)(G,{}),(0,j.jsx)(O.RV,{children:r})]}),(0,j.jsxs)(I,{children:[(0,j.jsx)(A,{children:"none"===l?(0,j.jsx)(U,{children:c("approval_unverified_token")}):(0,j.jsxs)(j.Fragment,{children:[s," ",(0,j.jsx)($,{data:a})]})}),(0,j.jsx)(A,{children:o})]})]})},Q=N.ZP.span(x||(x=(0,S.Z)(["\n  margin-left: 0.5rem;\n  opacity: 0.64;\n\n  ","}\n"])),(e=>e.positive?(0,N.iv)(m||(m=(0,S.Z)(["\n                color: ",";\n            "])),e.theme.accentGreen):(0,N.iv)(p||(p=(0,S.Z)(["\n                color: ",";\n            "])),e.theme.accentRed))),$=e=>{let{data:n}=e;if(!n||!n.diff24h||"0.00%"==n.diff24h)return null;const t=n.diff24h.startsWith("+");return(0,j.jsx)(Q,{positive:t,children:n.diff24h})},D=(0,Z.forwardRef)(((e,n)=>{let{info:t,className:r}=e;const{t:s}=(0,P.$G)(),o=(0,y.s0)(),i=(0,Z.useMemo)((()=>(0,k.og)(t.balance)),[t.balance]),a=(0,L.PL)(i),{data:l}=(0,_.UJ)(f.C.TON),{fiatPrice:c,fiatAmount:d}=(0,_.to)(l,i);return(0,j.jsx)(E.HC,{onClick:()=>o(T.FR.coins+"/ton"),className:r,ref:n,children:(0,j.jsxs)(F,{children:[(0,j.jsx)(M,{src:"https://wallet.tonkeeper.com/img/toncoin.svg"}),(0,j.jsx)(J,{name:s("Toncoin"),symbol:f.C.TON,balance:a,secondary:c,fiatAmount:d,rate:l})]})})})),W=(0,Z.forwardRef)(((e,n)=>{var t;let{jetton:r,className:s}=e;const{t:o}=(0,P.$G)(),i=(0,y.s0)(),{fiat:a}=(0,C.bp)(),[l,c]=(0,Z.useMemo)((()=>[(0,k.og)(r.balance,r.jetton.decimals),w.Address.parse(r.jetton.address).toString()]),[r]),d=(0,L.PL)(l,r.jetton.decimals),u=(0,Z.useMemo)((()=>r.price?(0,_.IM)(r.price,a):void 0),[r.price,a]),{fiatPrice:h,fiatAmount:x}=(0,_.to)(u,l);return(0,j.jsx)(E.HC,{onClick:()=>i(T.FR.coins+"/".concat(encodeURIComponent(r.jetton.address))),className:s,ref:n,children:(0,j.jsxs)(F,{children:[(0,j.jsx)(M,{src:r.jetton.image}),(0,j.jsx)(J,{name:null!==(t=r.jetton.name)&&void 0!==t?t:o("Unknown_COIN"),verification:r.jetton.verification,symbol:r.jetton.symbol,balance:d,secondary:h,fiatAmount:x,rate:u})]})})})),K=e=>{let{assets:{ton:{info:n,jettons:t},tron:r}}=e;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(E.L8,{noUserSelect:!0,children:(0,j.jsx)(D,{info:n})}),(0,j.jsx)(E.L8,{noUserSelect:!0,children:t.balances.map((e=>(0,j.jsx)(W,{jetton:e},e.jetton.address)))})]})},z=e=>{let{assets:n,nfts:t}=e;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(K,{assets:n}),(0,j.jsx)(b.JQ,{nfts:t})]})};var q,Y,X,ee,ne,te=t(11087);const re=N.ZP.div(q||(q=(0,S.Z)(["\n    display: flex;\n    padding-top: 1rem;\n    margin-bottom: 1.5rem;\n    position: relative;\n    justify-content: center;\n    gap: 2.25rem;\n\n    user-select: none;\n"]))),se=N.ZP.div(Y||(Y=(0,S.Z)(["\n    cursor: pointer;\n\n    padding: 0.5rem;\n    margin: -0.5rem;\n    box-sizing: border-box;\n\n    ","\n"])),(e=>e.active?(0,N.iv)(X||(X=(0,S.Z)(["\n                  color: ",";\n              "])),e.theme.textPrimary):(0,N.iv)(ee||(ee=(0,S.Z)(["\n                  color: ",";\n              "])),e.theme.textSecondary))),oe=N.ZP.div(ne||(ne=(0,S.Z)(["\n    position: absolute;\n    height: 3px;\n    width: 0px;\n    bottom: -0.5rem;\n    border-radius: ",";\n    background: ",";\n"])),(e=>e.theme.corner3xSmall),(e=>e.theme.accentBlue));var ie;!function(e){e[e.TOKENS=0]="TOKENS",e[e.COLLECTIBLES=1]="COLLECTIBLES"}(ie||(ie={}));const ae=e=>{let{tab:n,onTab:t}=e;const{t:r}=(0,P.$G)(),s=(0,Z.useRef)(null),o=(0,Z.useRef)(null);return(0,Z.useEffect)((()=>{if(s.current&&o.current){const e=s.current.childNodes[n],t=40;o.current.style.width=t+"px",o.current.style.left=e.offsetLeft+(e.clientWidth-t)/2+"px",window.requestAnimationFrame((()=>{o.current&&(o.current.style.transition="all 0.3s ease-in-out")}))}}),[s,o,n]),(0,j.jsxs)(re,{ref:s,children:[(0,j.jsx)(se,{active:n===ie.TOKENS,onClick:()=>t(ie.TOKENS),children:(0,j.jsx)(O.RV,{children:r("jettons_list_title")})}),(0,j.jsx)(se,{active:n===ie.COLLECTIBLES,onClick:()=>t(ie.COLLECTIBLES),children:(0,j.jsx)(O.RV,{children:r("wallet_collectibles_tab_lable")})}),(0,j.jsx)(oe,{ref:o})]})},le="collectibles",ce=e=>{let{assets:n,nfts:t}=e;const r=(0,y.TH)(),[s,o]=(0,te.lr)(),i=(0,Z.useMemo)((()=>"open"===new URLSearchParams(s).get(le)?ie.COLLECTIBLES:ie.TOKENS),[s,r]),a=(0,Z.useCallback)((e=>{e===ie.COLLECTIBLES?s.has(le)||s.append(le,"open"):s.has(le)&&s.delete(le),o(s,{replace:!0})}),[s,o]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ae,{tab:i,onTab:a}),i===ie.COLLECTIBLES?(0,j.jsx)(b.JQ,{nfts:t}):(0,j.jsx)(K,{assets:n})]})};var de=t(72884),ue=t(60793),he=t(86704);const xe=e=>{let{assets:n,nfts:t}=e;return n.ton.jettons.balances.length+t.length<10||n.ton.jettons.balances.length<3?(0,j.jsx)(z,{assets:n,nfts:t}):(0,j.jsx)(ce,{assets:n,nfts:t})},me=()=>{const{isFetched:e}=(0,_.sO)(),[n,t,r,s]=(0,ue.Li)(),{data:o,error:i,isFetching:a}=(0,he._Q)(),l=r||a;return o&&n&&e?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v.y,{assets:n,error:t,isFetching:l}),(0,j.jsx)(de.P,{chain:f.S.TON}),(0,j.jsx)(xe,{assets:n,nfts:o})]}):(0,j.jsx)(g.Gk,{})}}}]);
//# sourceMappingURL=388.c2fc32ca.chunk.js.map