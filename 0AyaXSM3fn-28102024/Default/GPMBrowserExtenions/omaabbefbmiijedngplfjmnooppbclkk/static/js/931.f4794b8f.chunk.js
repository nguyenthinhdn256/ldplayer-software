"use strict";(self.webpackChunk_tonkeeper_extension=self.webpackChunk_tonkeeper_extension||[]).push([[931],{14931:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var o,r,i=t(30168),s=t(80184),c=t(72791),a=t(65867),d=t(87594),l=t(23098),u=t(61945),h=t(89242),m=t(46868);const p=150;const v=a.ZP.div(o||(o=(0,i.Z)(["\n    overflow: hidden;\n    position: relative;\n\n    &::before {\n        z-index: 0;\n        content: '';\n        display: block;\n        position: absolute;\n        inset: 0;\n        background: ",";\n    }\n\n    &::after {\n        z-index: 2;\n        content: '';\n        display: block;\n        position: absolute;\n        inset: 0;\n        border: 50px solid ",";\n        box-shadow: "," 0 0 0 5px inset;\n    }\n\n    video {\n        z-index: 1;\n        position: relative;\n        display: inline-block;\n        height: 100%;\n        transform: matrix(-1, 0, 0, 1, 0, 0);\n        width: 100%;\n        object-fit: cover;\n\n        ","\n    }\n"])),(e=>e.theme.textSecondary),(e=>e.theme.backgroundOverlayLight),(e=>e.theme.textTertiary),(e=>e.windowWidth<=440&&(0,a.iv)(r||(r=(0,i.Z)(["\n                transform: none !important;\n            "]))))),f=(0,c.memo)((function(e){let{className:n="",delay:t=p,onError:o=console.error,onScan:r,size:i,style:a={}}=e;const d=(0,c.useRef)(null),l=(0,c.useRef)(null),u=(0,c.useMemo)((()=>function(e){if(!e)return{aspectRatio:"1 / 1",width:"100%"};const n="string"===typeof e?e:"".concat(e,"px");return{height:n,width:n}}(i)),[i]),h=(0,c.useCallback)((e=>o(e)),[o]);return(0,c.useEffect)((()=>{const e=new m.Nm,n=setTimeout((async()=>{try{var n;const t=(await m.Nm.listVideoInputDevices())[0].deviceId;l.current=await e.decodeFromVideoDevice(t,null!==(n=d.current)&&void 0!==n?n:void 0,((e,n)=>{e&&r(e.getText()),!n||n instanceof Error||h(new Error(n))}))}catch(t){h(t instanceof Error?t:new Error("Unknown error occurred"))}}),t);return()=>{clearTimeout(n),l.current&&l.current.stop()}}),[r,h,t]),(0,s.jsx)(v,{className:n,style:u,windowWidth:window.innerWidth,children:(0,s.jsx)("video",{ref:d,style:a})})}));var w;const x=a.ZP.div(w||(w=(0,i.Z)(["\n    margin: 0 -1rem;\n    width: calc(100% + 2rem);\n"]))),b=()=>{const[e,n]=(0,c.useState)(void 0),t=(0,l._)(),{standalone:o,ios:r}=(0,d.bp)(),{t:i}=(0,u.$G)();(0,c.useEffect)((()=>{const e=e=>{n(e.id)};return t.uiEvents.on("scan",e),()=>{t.uiEvents.off("scan",e)}}),[]);const a=(0,c.useMemo)((()=>o=>{t.uiEvents.emit("response",{method:"response",id:e,params:o}),n(void 0)}),[t,e,n]),m=void 0!==e,p=(0,c.useCallback)((()=>(0,s.jsx)(h.r4,{standalone:o,children:(0,s.jsx)(x,{children:m&&(0,s.jsx)(f,{onScan:a,onError:n=>{t.uiEvents.emit("copy",{method:"copy",id:e,params:n.message})}})})})),[m,a,o,r]);return(0,s.jsx)(h.P_,{isOpen:m,handleClose:()=>{n(void 0)},title:i("scan_qr_title"),children:p})}}}]);
//# sourceMappingURL=931.f4794b8f.chunk.js.map